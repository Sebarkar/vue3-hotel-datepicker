(function(l,$){typeof exports=="object"&&typeof module<"u"?module.exports=$(require("vue")):typeof define=="function"&&define.amd?define(["vue"],$):(l=typeof globalThis<"u"?globalThis:l||self,l.Vue3HotelDatePicker=$(l.Vue))})(this,function(l){"use strict";var $=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,I="\\d\\d?",V="\\d\\d",We="\\d{3}",Pe="\\d{4}",j="[^\\s]+",de=/\[([^]*?)\]/gm;function he(a,o){for(var n=[],g=0,f=a.length;g<f;g++)n.push(a[g].substr(0,o));return n}var me=function(a){return function(o,n){var g=n[a].map(function(O){return O.toLowerCase()}),f=g.indexOf(o.toLowerCase());return f>-1?f:null}};function W(a){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var g=0,f=o;g<f.length;g++){var O=f[g];for(var C in O)a[C]=O[C]}return a}var De=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ve=["January","February","March","April","May","June","July","August","September","October","November","December"],ze=he(ve,3),Ae=he(De,3),ge={dayNamesShort:Ae,dayNames:De,monthNamesShort:ze,monthNames:ve,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},G=W({},ge),$e=function(a){return G=W(G,a)},pe=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Y=function(a,o){for(o===void 0&&(o=2),a=String(a);a.length<o;)a="0"+a;return a},Le={D:function(a){return String(a.getDate())},DD:function(a){return Y(a.getDate())},Do:function(a,o){return o.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return Y(a.getDay())},ddd:function(a,o){return o.dayNamesShort[a.getDay()]},dddd:function(a,o){return o.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return Y(a.getMonth()+1)},MMM:function(a,o){return o.monthNamesShort[a.getMonth()]},MMMM:function(a,o){return o.monthNames[a.getMonth()]},YY:function(a){return Y(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return Y(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return Y(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return Y(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return Y(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return Y(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return Y(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return Y(a.getMilliseconds(),3)},a:function(a,o){return a.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(a,o){return a.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4)},Z:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60),2)+":"+Y(Math.abs(o)%60,2)}},Me=function(a){return+a-1},ye=[null,I],ke=[null,j],be=["isPm",j,function(a,o){var n=a.toLowerCase();return n===o.amPm[0]?0:n===o.amPm[1]?1:null}],Ye=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var o=(a+"").match(/([+-]|\d\d)/gi);if(o){var n=+o[1]*60+parseInt(o[2],10);return o[0]==="+"?n:-n}return 0}],Ze={D:["day",I],DD:["day",V],Do:["day",I+j,function(a){return parseInt(a,10)}],M:["month",I,Me],MM:["month",V,Me],YY:["year",V,function(a){var o=new Date,n=+(""+o.getFullYear()).substr(0,2);return+(""+(+a>68?n-1:n)+a)}],h:["hour",I,void 0,"isPm"],hh:["hour",V,void 0,"isPm"],H:["hour",I],HH:["hour",V],m:["minute",I],mm:["minute",V],s:["second",I],ss:["second",V],YYYY:["year",Pe],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",V,function(a){return+a*10}],SSS:["millisecond",We],d:ye,dd:ye,ddd:ke,dddd:ke,MMM:["month",j,me("monthNamesShort")],MMMM:["month",j,me("monthNames")],a:be,A:be,ZZ:Ye,Z:Ye},K={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Re=function(a){return W(K,a)},Je=function(a,o,n){if(o===void 0&&(o=K.default),n===void 0&&(n={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");o=K[o]||o;var g=[];o=o.replace(de,function(O,C){return g.push(C),"@@@"});var f=W(W({},G),n);return o=o.replace($,function(O){return Le[O](a,f)}),o.replace(/@@@/g,function(){return g.shift()})};function je(a,o,n){if(n===void 0&&(n={}),typeof o!="string")throw new Error("Invalid format in fecha parse");if(o=K[o]||o,a.length>1e3)return null;var g=new Date,f={year:g.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},O=[],C=[],P=o.replace(de,function(D,u){return C.push(pe(u)),"@@@"}),L={},H={};P=pe(P).replace($,function(D){var u=Ze[D],A=u[0],ae=u[1],X=u[3];if(L[A])throw new Error("Invalid format. "+A+" specified twice in format");return L[A]=!0,X&&(H[X]=!0),O.push(u),"("+ae+")"}),Object.keys(H).forEach(function(D){if(!L[D])throw new Error("Invalid format. "+D+" is required in specified format")}),P=P.replace(/@@@/g,function(){return C.shift()});var w=a.match(new RegExp(P,"i"));if(!w)return null;for(var c=W(W({},G),n),d=1;d<w.length;d++){var F=O[d-1],M=F[0],z=F[2],Q=z?z(w[d],c):+w[d];if(Q==null)return null;f[M]=Q}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var B;if(f.timezoneOffset==null){B=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var N=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,m=N.length;d<m;d++)if(L[N[d][0]]&&f[N[d][0]]!==B[N[d][1]]())return null}else if(B=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return B}var _={format:Je,parse:je,defaultI18n:ge,setGlobalDateI18n:$e,setGlobalDateMasks:Re};const Ue=(a,o)=>{const n=a.__vccOpts||a;for(const[g,f]of o)n[g]=f;return n},qe={style:{"pointer-events":"none"}},Ge={class:"month_control_panel"},Ke={class:"month_control_item"},Qe=["onClick"],Xe={class:"month_control_item"},et={class:"month_control_item"},tt=["onClick"],nt={class:"month_box"},at={class:"week_name"},st=["onClick","onMouseover"];return Ue({__name:"Vue3HotelDatePicker",props:{format:{default:"YYYY-MM-DD",type:String},startOfWeek:{default:"monday",type:String},separator:{default:"-",type:String},selectedDates:{default:!1,type:[Array,Boolean]},startDate:{default:!1,type:[String,Boolean]},endDate:{default:!1,type:[String,Boolean]},minDate:{default:()=>new Date},maxDate:{default:()=>!1,type:Boolean},disabledDaysOfWeek:{default:()=>[]},moveBothMonths:{default:!1,type:Boolean},noCheckOutDates:{default:()=>[]},noCheckInDates:{default:()=>[]},noCheckInDaysOfWeek:{default:()=>[]},noCheckOutDaysOfWeek:{default:()=>[]},maxNights:0,minNights:1,singleMonthBreakpoint:{default:!1,type:[Number,Boolean]},selectForward:Boolean,showSingleMonth:Boolean,disabledDates:{default:!1,type:[Array,Boolean]},enableCheckout:Boolean,weekDays:{default:()=>["sun","mon","tue","wed","thu","fri","sat"],type:Array},monthNames:{default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"],type:Array},i18n:{default:()=>({"not selected":"Not selected",night:"Night",nights:"Nights"}),type:Object}},emits:{selected:({start:a,end:o})=>!0},setup(a,{emit:o}){const n=a,g=o,f=l.ref(!0);l.ref(!1);const O=l.ref(!1),C=l.ref(!1),P=l.ref(!1),L=l.ref(!1),H=l.ref(n.maxNights),w=l.ref(n.minNights),c=l.ref(n.startDate??!1),d=l.ref(n.endDate??!1);l.ref(null);const F=l.ref(null),M=l.ref({}),z=l.ref(0);l.ref(null);const Q=l.ref(null);O.value=!1,C.value=!1,P.value=!1,L.value=!1;const B=l.ref(n.startDate),N=l.ref(n.endDate),m=l.ref([]),D=l.ref({start:null,end:null}),u=l.ref({months:[],open:!0,submitButton:!1,clearButton:!1,showSingleMonth:n.showSingleMonth});l.computed({error:!1,textContent:"",show:!1});const A=e=>e in n.i18n?n.i18n[e]:"",ae=()=>{let e=[];if(n.startOfWeek==="monday"){for(let t=0;t<7;t++)e.push(n.weekDays[(1+t)%7]);return e}for(let t=0;t<7;t++)e.push(n.weekDays[t]);return e},X=e=>n.monthNames[e],Z=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()+1,1))},se=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()-1,1))},y=(e,t=null)=>{let r=t??n.format;return _.format(e,r)},U=(e,t=null)=>{let r=t??n.format;return _.parse(e,r)},rt=()=>{w.value=n.minNights>1?n.minNights+1:2,H.value=n.maxNights>0?n.maxNights+1:0,n.startDate&&typeof n.startDate=="string"&&(B.value=U(n.startDate)),n.endDate&&typeof n.endDate=="string"&&(N.value=U(N.value)),n.disabledDates.length>0&&gt(),n.disabledDaysOfWeek.length>0&&pt(),B.value&&N.value?yt(B.value,N.value):Oe(),Q.value&&(f.value||!c.value&&!d.value)&&(u.value.clearButton=!0),z.value=0,F.value=!1},E=(e,t)=>{e=new Date(e);let r={name:X(e.getMonth()),month:e.getMonth(),year:e.getFullYear(),id:e.getFullYear()+e.getMonth(),days:[],nextBtn:!0,prevBtn:!0};e.setHours(0,0,0,0),r.days=lt(e),u.value.months.splice(t-1,1,r),Te(),M.value["month"+t]=e},we={date:{},type:"",day:"",time:"",isValid:!1,isTmp:!1,isCurrentMonth:!1,isToday:!1,isNoCheckIn:!1,isNoCheckOut:!1,isDisabled:!1,isDayOfWeekDisabled:!1,isFirstEnabledDate:!1,isCheckInOnly:!1,isDayBeforeDisabledDate:!1},lt=e=>{const t=[],r=[];let s;e.setDate(1);let i=e.getDay();const v=e.getMonth();if(i===0&&n.startOfWeek==="monday"&&(i=7),i>0)for(let p=i;p>0;p--){const h=new Date(e.getTime()-864e5*p);s=te(h.getTime()),(n.minDate&&k(h,n.minDate)<0||n.maxDate&&k(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},we,{date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),isValid:s}))}for(let p=0;p<40;p++){const h=q(e,p);s=te(h.getTime()),(n.minDate&&k(h,n.minDate)<0||n.maxDate&&k(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},we,{date:h,type:h.getMonth()===v?"visibleMonth":"nextMonth",day:h.getDate(),time:h.getTime(),isCurrentMonth:h.getMonth()===v,isValid:s}))}for(let p=0;p<6&&t[p*7].type!=="nextMonth";p++)for(let h=0;h<7;h++){let S=n.startOfWeek==="monday"?h+1:h;S=t[p*7+S],r.push(Se(S))}return r},Se=e=>{const t=y(e.time)===y(new Date),r=y(e.time)===y(n.minDate);let s=!1,i=!1,v=!1,p=!1,h=!1,S=!1;if(e.valid||e.type==="visibleMonth"){const fe=y(e.time,"YYYY-MM-DD");if(n.disabledDates.length>0){const x=Ie(e.date);if(x[0]===!1&&(x[0]=Be(B.value,1)),x[0]&&x[1]&&k(e.date,x[0])&&T(x[0],x[1])-2>0){const ce=T(x[1],e.date)-1,bt=T(e.date,x[0])-1;(n.selectForward&&ce<w.value||!n.selectForward&&ce<w.value&&bt<w.value)&&(e.isValid=!1),!e.isValid&&n.enableCheckout&&ce===2&&(S=!0)}n.disabledDates.indexOf(fe)>-1?(e.isValid=!1,s=!0,z.value++,F.value=e.date):z.value=0,e.isValid&&F.value&&k(e.date,F.value)>0&&T(e.date,F.value)===2&&(h=!0)}n.disabledDaysOfWeek.length>0&&n.disabledDaysOfWeek.indexOf(_.format(e.time,"dddd"))>-1&&(e.isValid=!1,p=!0),n.noCheckInDates.length>0&&n.noCheckInDates.indexOf(fe)>-1&&(i=!0,h=!1),n.noCheckOutDates.length>0&&n.noCheckOutDates.indexOf(fe)>-1&&(v=!0),n.noCheckInDaysOfWeek.length>0&&n.noCheckInDaysOfWeek.indexOf(_.format(e.time,"dddd"))>-1&&(i=!0,h=!1),n.noCheckOutDaysOfWeek.length>0&&n.noCheckOutDaysOfWeek.indexOf(_.format(e.time,"dddd"))>-1&&(v=!0)}return e.isToday=t,e.isDisabled=s,e.isCheckOutEnabled=s&&n.enableCheckout&&z.value===1,e.isDayBeforeDisabledDate=S,e.isCheckInOnly=r||h,e.isNoCheckIn=i,e.isNoCheckOut=v,e.isDayOfWeekDisabled=p,e},ot=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=parseInt(u.value.months[e].days[t].time,10),s=new Date(r);let i;i=te(s.getTime()),(n.minDate&&k(s,n.minDate)<0||n.maxDate&&k(s,n.maxDate)>0)&&(i=!1),u.value.months[e].days[t].isValid=i,u.value.months[e].days[t]=Se(u.value.months[e].days[t])}},Oe=()=>{E(n.minDate,1),E(Z(n.minDate),2),J()},it=(e,t,...r)=>{if(r.length>0&&r[0]!==void 0&&r[0],e.getTime()>t.getTime()){let i=t;t=e,e=i,i=null}let s=!0;if((n.minDate&&k(e,n.minDate)<0||n.maxDate&&k(t,n.maxDate)>0)&&(s=!1),!s){Oe();return}e.setTime(e.getTime()+12*60*60*1e3),t.setTime(t.getTime()+12*60*60*1e3),c.value=e.getTime(),d.value=t.getTime(),k(e,t)>0&&ne(e,t)===0&&(t=Z(e)),ne(e,t)===0&&(t=Z(e)),E(e,1),E(t,2),ee(),J(),Ce()},ee=()=>{if(!(!c.value&&!d.value))for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=u.value.months[e].days[t],s=parseInt(r.time,10);c.value&&d.value&&d.value>=s&&c.value<=s||c.value&&!d.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?r.isSelected=!0:r.isSelected=!1,c.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?r.isFirstDaySelected=!0:r.isFirstDaySelected=!1,d.value&&y(d.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?r.isLastDaySelected=!0:r.isLastDaySelected=!1,u.value.months[e].days[t]=Object.assign({},r)}},ut=(e,t)=>{if(!e.isValid||!e.isCurrentMonth)return;const r=D.value.start===null,s=parseInt(e.time,10);if(!(D.value.start&&D.value.start.time===e.time)){if(r){if(e.isNoCheckIn)return}else if(c.value&&(c.value>s&&e.isNoCheckIn||D.value.start&&D.value.start.isNoCheckIn&&c.value>s||e.isNoCheckOut&&s>c.value))return;if(r?(D.value.start=e,c.value=s,d.value=!1):c.value&&(D.value.end=e,d.value=s,Ve()),c.value&&d.value&&c.value>d.value){const i=d.value;d.value=c.value,c.value=i}c.value=parseInt(c.value,10),d.value=parseInt(d.value,10),vt(),c.value&&!d.value&&xe(e),Te(),Ce(),c.value&&d.value&&ot(),ee(),d.value&&g("selected",{start:c.value,end:d.value}),D.value.end&&ft()}},ft=()=>{D.value.start=null,D.value.end=null},te=e=>{if(e=parseInt(e,10),n.minDate&&k(e,n.minDate)<0||n.maxDate&&k(e,n.maxDate)>0)return!1;if(c.value&&!d.value){if(H.value>0&&T(e,c.value)>H.value||w.value>0&&T(e,c.value)>1&&T(e,c.value)<w.value||n.selectForward&&e<c.value)return!1;if(n.disabledDates.length>0){const t=Ie(new Date(parseInt(c.value,10)));if(t[0]&&k(e,t[0])<=0||t[1]&&k(e,t[1])>=0)return!1}if(n.disabledDaysOfWeek.length>0){const t=Mt(new Date(parseInt(c.value,10)));if(t[0]&&k(e,t[0])<=0||t[1]&&k(e,t[1])>=0)return!1}}return!0},_e=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].selected=!1,u.value.months[e].days[t].isFirstDaySelected=!1,u.value.months[e].days[t].isLastDaySelected=!1;return!0},Ce=()=>{const e=T(d.value,c.value);(H.value&&e>H.value||w.value&&e<w.value)&&(c.value=!1,d.value=!1,_e())},q=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},Be=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()-t),r},T=(e,t)=>Math.abs(Ne(e)-Ne(t))+1,k=(e,t)=>{const r=parseInt(y(e,"YYYYMMDD"),10)-parseInt(y(t,"YYYYMMDD"),10);return r>0?1:r===0?0:-1},ne=(e,t)=>{const r=parseInt(y(e,"YYYYMM"),10)-parseInt(y(t,"YYYYMM"),10);return r>0?1:r===0?0:-1},Ne=e=>Math.round(ct(e)/864e5),ct=e=>(typeof e=="object"&&e.getTime&&(e=e.getTime()),typeof e=="string"&&!e.match(/\d{13}/)&&(e=U(e).getTime()),e=parseInt(e,10)-new Date().getTimezoneOffset()*60*1e3,e),dt=(e,t)=>{const r=t===1;let s=r?M.value.month2:M.value.month1;return s=Z(s),!le()&&!r&&ne(s,M.value.month2)>=0||R(s)?!1:(n.moveBothMonths&&r&&E(M.value.month2,1),E(s,t+1),ee(),J(),!0)},ht=(e,t)=>{const r=t===1;let s=r?M.value.month2:M.value.month1;return s=se(s),r&&ne(s,M.value.month1)<=0||R(s)?!1:(n.moveBothMonths&&!r&&E(M.value.month1,2),E(s,t+1),ee(),J(),!0)},re=l.ref([]),le=()=>n.showSingleMonth||mt(),mt=()=>typeof window>"u"?!1:n.singleMonthBreakpoint?window.innerWidth<n.singleMonthBreakpoint:window.innerWidth<Dt(),Dt=()=>re.value[0]?2*re.value[0].offsetWidth+50:0,R=e=>{const t=new Date(e.valueOf());return n.minDate&&new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)<n.minDate||n.maxDate&&new Date(t.getFullYear(),t.getMonth(),1)>n.maxDate},J=()=>{if(le()){R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month1))?u.value.months[0].nextBtn=!1:u.value.months[0].nextBtn=!0;return}const e=parseInt(y(M.value.month1,"YYYYMM"),10),t=parseInt(y(M.value.month2,"YYYYMM"),10),r=Math.abs(e-t);r>1&&r!==89?(u.value.months[0].nextBtn=!0,u.value.months[1].prevBtn=!0):(u.value.months[0].nextBtn=!1,u.value.months[1].prevBtn=!1),R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month2))?u.value.months[1].nextBtn=!1:u.value.months[1].nextBtn=!0},Te=()=>{const e=c.value&&!d.value;for(let t=0;t<u.value.months.length;t++)for(let r=0;r<u.value.months[t].days.length;r++){let s=u.value.months[t].days[r];if(!s.isValid&&s.isTmp&&(s.isTmp=!1,s.isTmpValid?s.isValid=!0:s.isTmpValid=!0),e){if(s.isCurrentMonth&&(s.isValid||s.isDisabled||s.isBeforeDisabledDate)){const i=parseInt(s.time,10);te(i)?(s.isValid=!0,s.isTmp=!0,s.isDisabled=!1):(s.valid||(s.isTmpValid=!1),s.isValid=!1,s.isTmp=!0)}}else(s.checkOutEnabled||s.beforeDisabledDate)&&(s.isValid=!1,s.beforeDisabledDate||(s.isDisabled=!0));u.value.months[t].days.splice(r,1,s)}return!0},xe=(e,t)=>{const r=parseInt(e.time,10);if(e.isValid&&He(e)){for(let s=0;s<u.value.months.length;s++)for(let i=0;i<u.value.months[s].days.length;i++){const v=parseInt(u.value.months[s].days[i].time,10);v===r?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1,c.value&&!d.value&&(c.value<v&&r>=v||c.value>v&&r<=v)?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1}c.value&&!d.value&&(b.count=T(r,c.value)-1)}},vt=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].isHovering=!1},gt=()=>{const e=[];for(let t=0;t<n.disabledDates.length;t++)e[t]=_.parse(n.disabledDates[t],"YYYY-MM-DD");e.sort((t,r)=>t-r),m.value=e},Ie=e=>{let t=[!1,!1];if(e<m.value[0])n.enableCheckout?t=[!1,q(m.value[0],1)]:t=[!1,m.value[0]];else if(e>m.value[m.value.length-1])t=[m.value[m.value.length-1],!1];else{let r=m.value.length,s=m.value.length;const i=Math.abs(new Date(0,0,0).valueOf());let v=i,p=-i,h=0,S;for(S=0;S<m.value.length;++S)h=e-m.value[S],h<0&&h>p&&(s=S,p=h),h>0&&h<v&&(r=S,v=h);m.value[r]&&(t[0]=m.value[r]),typeof m.value[r]>"u"?t[1]=!1:n.enableCheckout?t[1]=q(m.value[s],1):t[1]=m.value[s]}return t},oe=l.ref([]),pt=()=>{const e=[],t=[],r=new Date;for(let s=0;s<7;s++){const i=q(r,s);e[_.format(i,"d")]=_.format(i,"dddd")}for(let s=0;s<n.disabledDaysOfWeek.length;s++)t.push(e.indexOf(n.disabledDaysOfWeek[s]));t.sort(),oe.value=t},Mt=e=>{const t=[!1,!1];for(let r=0;r<7;r++){const s=Be(e,r);if(oe.value.indexOf(parseInt(_.format(s,"d"),10))>-1){t[0]=s;break}}for(let r=0;r<7;r++){const s=q(e,r);if(oe.value.indexOf(parseInt(_.format(s,"d"),10))>-1){t[1]=s;break}}return t},yt=(e,t)=>{typeof e=="string"&&typeof t=="string"?(e=U(e),t=U(t)):(e=new Date(e.getTime()),t=new Date(t.getTime())),it(e,t)},b=l.reactive({show:!1,top:0,left:0,width:0,count:0,error:!1}),Ve=()=>b.show=!1,He=e=>!(!e.isValid||!e.isCurrentMonth),kt=(e,t)=>{if(!D.value.start||D.value.start&&D.value.end||!He(t))return!1;b.show=!0;const r=Fe.value.getBoundingClientRect(),s=e.target.getBoundingClientRect();b.top=s.top-r.top-35,b.left=s.left-r.left,b.width=s.width},Fe=l.ref(null),ie=()=>{u.value.showSingleMonth=le()};l.watch(()=>u.value.showSingleMonth,()=>{J()});const Ee=()=>typeof client<"u";l.onUnmounted(()=>{window.removeEventListener("resize",()=>ie())});const ue=l.ref(!1);return l.onMounted(()=>{window.addEventListener("resize",()=>ie()),ie(),J(),ue.value=!0}),rt(),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:"h-datepicker",ref_key:"parent",ref:Fe},[l.createElementVNode("div",{class:l.normalizeClass([{"h-datepicker_invisible":!b.show,visible:b.show},"h_datepicker_popup"]),style:l.normalizeStyle({top:b.top+"px",left:b.left+"px",width:b.width+"px"})},[l.createElementVNode("div",qe,[l.renderSlot(e.$slots,"popup",{nights:b.count},()=>[l.createTextVNode(l.toDisplayString(b.count?b.count+" "+(b.count>1?A("nights"):A("night")):A("not selected")),1)],!0)])],6),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(u.value.months,(r,s)=>(l.openBlock(),l.createElementBlock("div",{key:r.id,ref_for:!0,ref_key:"monthsDoms",ref:re,class:l.normalizeClass(["h-datepicker_month",{"h-datepicker_hidden":s===1&&u.value.showSingleMonth,"h-datepicker_two_month_display":!u.value.showSingleMonth,"h-datepicker_one_month_display":u.value.showSingleMonth,"h-datepicker_month-1":s===0,"h-datepicker_month-2":s===1}])},[l.createElementVNode("div",Ge,[l.createElementVNode("div",Ke,[ue.value||!Ee?(l.openBlock(),l.createElementBlock("div",{key:0,onClick:i=>ht(r,s),class:l.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!r.prevBtn}])},[l.renderSlot(e.$slots,"prev",{},()=>[l.createTextVNode(" <<")],!0)],10,Qe)):l.createCommentVNode("",!0)]),l.createElementVNode("div",Xe,[l.renderSlot(e.$slots,"month",{month:r},()=>[l.createTextVNode(l.toDisplayString(r.name)+" "+l.toDisplayString(r.year),1)],!0)]),l.createElementVNode("div",et,[ue.value||!Ee?(l.openBlock(),l.createElementBlock("div",{key:0,onClick:i=>dt(r,s),class:l.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!r.nextBtn}])},[l.renderSlot(e.$slots,"next",{},()=>[l.createTextVNode(" >> ")],!0)],10,tt)):l.createCommentVNode("",!0)])]),l.createElementVNode("div",nt,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(ae(),i=>(l.openBlock(),l.createElementBlock("div",at,[l.renderSlot(e.$slots,"weekday",{weekday:i},()=>[l.createTextVNode(l.toDisplayString(i),1)],!0)]))),256)),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(r.days,i=>(l.openBlock(),l.createElementBlock("div",{onClick:v=>ut(i),onMouseout:t[0]||(t[0]=v=>Ve()),onMouseover:v=>xe(i)||kt(v,i),class:l.normalizeClass([{h_datepicker_notCurrentMonth:!i.isCurrentMonth,h_datepicker_valid:i.isValid,h_datepicker_invalid:!i.isValid,h_datepicker_tmp_invalid:!i.isTmpValid,h_datepicker_tmp_valid:i.isTmpValid,h_datepicker_disabled:i.isDisabled,h_datepicker_checkout_enabled:i.isCheckOutEnabled,h_datepicker_checkout_disabled:!i.isCheckOutEnabled,h_datepicker_before_disabled_date:i.isDayBeforeDisabledDate,h_datepicker_first_day_selected:i.isFirstDaySelected,h_datepicker_last_day_selected:i.isLastDaySelected,h_datepicker_selected:i.isSelected,h_datepicker_hovering:i.isHovering},"h_datepicker_day"])},[l.renderSlot(e.$slots,"day",{day:i},()=>[l.createTextVNode(l.toDisplayString(i.day),1)],!0)],42,st))),256))])],2))),128))],512))}},[["__scopeId","data-v-6ba9840c"]])});
