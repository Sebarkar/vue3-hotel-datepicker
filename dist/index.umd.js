(function(l,$){typeof exports=="object"&&typeof module<"u"?module.exports=$(require("vue")):typeof define=="function"&&define.amd?define(["vue"],$):(l=typeof globalThis<"u"?globalThis:l||self,l.Vue3HotelDatePicker=$(l.Vue))})(this,function(l){"use strict";var $=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,x="\\d\\d?",V="\\d\\d",Fe="\\d{3}",Pe="\\d{4}",j="[^\\s]+",ce=/\[([^]*?)\]/gm;function de(a,o){for(var n=[],p=0,f=a.length;p<f;p++)n.push(a[p].substr(0,o));return n}var he=function(a){return function(o,n){var p=n[a].map(function(S){return S.toLowerCase()}),f=p.indexOf(o.toLowerCase());return f>-1?f:null}};function P(a){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var p=0,f=o;p<f.length;p++){var S=f[p];for(var N in S)a[N]=S[N]}return a}var me=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],De=["January","February","March","April","May","June","July","August","September","October","November","December"],We=de(De,3),ze=de(me,3),ve={dayNamesShort:ze,dayNames:me,monthNamesShort:We,monthNames:De,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},G=P({},ve),Ae=function(a){return G=P(G,a)},pe=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Y=function(a,o){for(o===void 0&&(o=2),a=String(a);a.length<o;)a="0"+a;return a},$e={D:function(a){return String(a.getDate())},DD:function(a){return Y(a.getDate())},Do:function(a,o){return o.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return Y(a.getDay())},ddd:function(a,o){return o.dayNamesShort[a.getDay()]},dddd:function(a,o){return o.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return Y(a.getMonth()+1)},MMM:function(a,o){return o.monthNamesShort[a.getMonth()]},MMMM:function(a,o){return o.monthNames[a.getMonth()]},YY:function(a){return Y(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return Y(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return Y(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return Y(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return Y(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return Y(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return Y(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return Y(a.getMilliseconds(),3)},a:function(a,o){return a.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(a,o){return a.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4)},Z:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60),2)+":"+Y(Math.abs(o)%60,2)}},ge=function(a){return+a-1},Me=[null,x],ke=[null,j],ye=["isPm",j,function(a,o){var n=a.toLowerCase();return n===o.amPm[0]?0:n===o.amPm[1]?1:null}],be=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var o=(a+"").match(/([+-]|\d\d)/gi);if(o){var n=+o[1]*60+parseInt(o[2],10);return o[0]==="+"?n:-n}return 0}],Le={D:["day",x],DD:["day",V],Do:["day",x+j,function(a){return parseInt(a,10)}],M:["month",x,ge],MM:["month",V,ge],YY:["year",V,function(a){var o=new Date,n=+(""+o.getFullYear()).substr(0,2);return+(""+(+a>68?n-1:n)+a)}],h:["hour",x,void 0,"isPm"],hh:["hour",V,void 0,"isPm"],H:["hour",x],HH:["hour",V],m:["minute",x],mm:["minute",V],s:["second",x],ss:["second",V],YYYY:["year",Pe],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",V,function(a){return+a*10}],SSS:["millisecond",Fe],d:Me,dd:Me,ddd:ke,dddd:ke,MMM:["month",j,he("monthNamesShort")],MMMM:["month",j,he("monthNames")],a:ye,A:ye,ZZ:be,Z:be},K={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Ze=function(a){return P(K,a)},Re=function(a,o,n){if(o===void 0&&(o=K.default),n===void 0&&(n={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");o=K[o]||o;var p=[];o=o.replace(ce,function(S,N){return p.push(N),"@@@"});var f=P(P({},G),n);return o=o.replace($,function(S){return $e[S](a,f)}),o.replace(/@@@/g,function(){return p.shift()})};function Je(a,o,n){if(n===void 0&&(n={}),typeof o!="string")throw new Error("Invalid format in fecha parse");if(o=K[o]||o,a.length>1e3)return null;var p=new Date,f={year:p.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},S=[],N=[],W=o.replace(ce,function(D,u){return N.push(pe(u)),"@@@"}),L={},H={};W=pe(W).replace($,function(D){var u=Le[D],A=u[0],ae=u[1],X=u[3];if(L[A])throw new Error("Invalid format. "+A+" specified twice in format");return L[A]=!0,X&&(H[X]=!0),S.push(u),"("+ae+")"}),Object.keys(H).forEach(function(D){if(!L[D])throw new Error("Invalid format. "+D+" is required in specified format")}),W=W.replace(/@@@/g,function(){return N.shift()});var _=a.match(new RegExp(W,"i"));if(!_)return null;for(var c=P(P({},G),n),d=1;d<_.length;d++){var E=S[d-1],M=E[0],z=E[2],Q=z?z(_[d],c):+_[d];if(Q==null)return null;f[M]=Q}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var O;if(f.timezoneOffset==null){O=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var B=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,m=B.length;d<m;d++)if(L[B[d][0]]&&f[B[d][0]]!==O[B[d][1]]())return null}else if(O=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return O}var C={format:Re,parse:Je,defaultI18n:ve,setGlobalDateI18n:Ae,setGlobalDateMasks:Ze};const je=(a,o)=>{const n=a.__vccOpts||a;for(const[p,f]of o)n[p]=f;return n},Ue={style:{"pointer-events":"none"}},qe={class:"h_datepicker_month_control_panel"},Ge={class:"h_datepicker_month_control_item"},Ke=["onClick"],Qe={class:"h_datepicker_month_control_item"},Xe={class:"h_datepicker_month_control_item"},et=["onClick"],tt={class:"h_datepicker_month_box"},nt={class:"h_datepicker_weeks_container"},at={class:"h_datepicker_week_name"},st={class:"h_datepicker_dates_container"},rt=["onClick","onMouseover"];return je({__name:"Vue3HotelDatePicker",props:{format:{default:"YYYY-MM-DD",type:String},startOfWeek:{default:"monday",type:String},separator:{default:"-",type:String},selectedDates:{default:!1,type:[Array,Boolean]},startDate:{default:!1,type:[String,Boolean]},endDate:{default:!1,type:[String,Boolean]},minDate:{default:()=>new Date},maxDate:{default:()=>!1,type:Boolean},disabledDaysOfWeek:{default:()=>[]},moveBothMonths:{default:!1,type:Boolean},noCheckOutDates:{default:()=>[]},noCheckInDates:{default:()=>[]},noCheckInDaysOfWeek:{default:()=>[]},noCheckOutDaysOfWeek:{default:()=>[]},maxNights:0,minNights:1,singleMonthBreakpoint:{default:768,type:[Number,String]},selectForward:Boolean,showSingleMonth:Boolean,disabledDates:{default:!1,type:[Array,Boolean]},enableCheckout:Boolean,weekDays:{default:()=>["sun","mon","tue","wed","thu","fri","sat"],type:Array},monthNames:{default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"],type:Array},i18n:{default:()=>({"not selected":"Not selected",night:"Night",nights:"Nights"}),type:Object}},emits:{selected:({start:a,end:o})=>!0},setup(a,{emit:o}){const n=a,p=o,f=l.ref(!0);l.ref(!1);const S=l.ref(!1),N=l.ref(!1),W=l.ref(!1),L=l.ref(!1),H=l.ref(n.maxNights),_=l.ref(n.minNights),c=l.ref(n.startDate??!1),d=l.ref(n.endDate??!1);l.ref(null);const E=l.ref(null),M=l.ref({}),z=l.ref(0);l.ref(null);const Q=l.ref(null);S.value=!1,N.value=!1,W.value=!1,L.value=!1;const O=l.ref(n.startDate),B=l.ref(n.endDate),m=l.ref([]),D=l.ref({start:null,end:null}),u=l.ref({months:[],open:!0,submitButton:!1,clearButton:!1,showSingleMonth:n.showSingleMonth});l.computed({error:!1,textContent:"",show:!1});const A=e=>e in n.i18n?n.i18n[e]:"",ae=()=>{let e=[];if(n.startOfWeek==="monday"){for(let t=0;t<7;t++)e.push(n.weekDays[(1+t)%7]);return e}for(let t=0;t<7;t++)e.push(n.weekDays[t]);return e},X=e=>n.monthNames[e],Z=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()+1,1))},se=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()-1,1))},k=(e,t=null)=>{let r=t??n.format;return C.format(e,r)},U=(e,t=null)=>{let r=t??n.format;return C.parse(e,r)},lt=()=>{_.value=n.minNights>1?n.minNights+1:2,H.value=n.maxNights>0?n.maxNights+1:0,n.startDate&&typeof n.startDate=="string"&&(O.value=U(n.startDate)),n.endDate&&typeof n.endDate=="string"&&(B.value=U(B.value)),n.disabledDates.length>0&&pt(),n.disabledDaysOfWeek.length>0&&gt(),O.value&&B.value?kt(O.value,B.value):we(),Q.value&&(f.value||!c.value&&!d.value)&&(u.value.clearButton=!0),z.value=0,E.value=!1},F=(e,t)=>{e=new Date(e);let r={name:X(e.getMonth()),month:e.getMonth(),year:e.getFullYear(),id:e.getFullYear()+e.getMonth(),days:[],nextBtn:!0,prevBtn:!0};e.setHours(0,0,0,0),r.days=ot(e),u.value.months.splice(t-1,1,r),Be(),M.value["month"+t]=e},Ye={date:{},type:"",day:"",time:"",isValid:!1,isTmp:!1,isCurrentMonth:!1,isToday:!1,isNoCheckIn:!1,isNoCheckOut:!1,isDisabled:!1,isDayOfWeekDisabled:!1,isFirstEnabledDate:!1,isCheckInOnly:!1,isDayBeforeDisabledDate:!1},ot=e=>{const t=[],r=[];let s;e.setDate(1);let i=e.getDay();const v=e.getMonth();if(i===0&&n.startOfWeek==="monday"&&(i=7),i>0)for(let g=i;g>0;g--){const h=new Date(e.getTime()-864e5*g);s=te(h.getTime()),(n.minDate&&y(h,n.minDate)<0||n.maxDate&&y(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},Ye,{date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),isValid:s}))}for(let g=0;g<40;g++){const h=q(e,g);s=te(h.getTime()),(n.minDate&&y(h,n.minDate)<0||n.maxDate&&y(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},Ye,{date:h,type:h.getMonth()===v?"visibleMonth":"nextMonth",day:h.getDate(),time:h.getTime(),isCurrentMonth:h.getMonth()===v,isValid:s}))}for(let g=0;g<6&&t[g*7].type!=="nextMonth";g++)for(let h=0;h<7;h++){let w=n.startOfWeek==="monday"?h+1:h;w=t[g*7+w],r.push(_e(w))}return r},_e=e=>{const t=k(e.time)===k(new Date),r=k(e.time)===k(n.minDate);let s=!1,i=!1,v=!1,g=!1,h=!1,w=!1;if(e.valid||e.type==="visibleMonth"){const ue=k(e.time,"YYYY-MM-DD");if(n.disabledDates.length>0){const I=Ie(e.date);if(I[0]===!1&&(I[0]=Ne(O.value,1)),I[0]&&I[1]&&y(e.date,I[0])&&T(I[0],I[1])-2>0){const fe=T(I[1],e.date)-1,bt=T(e.date,I[0])-1;(n.selectForward&&fe<_.value||!n.selectForward&&fe<_.value&&bt<_.value)&&(e.isValid=!1),!e.isValid&&n.enableCheckout&&fe===2&&(w=!0)}n.disabledDates.indexOf(ue)>-1?(e.isValid=!1,s=!0,z.value++,E.value=e.date):z.value=0,e.isValid&&E.value&&y(e.date,E.value)>0&&T(e.date,E.value)===2&&(h=!0)}n.disabledDaysOfWeek.length>0&&n.disabledDaysOfWeek.indexOf(C.format(e.time,"ddd"))>-1&&(e.isValid=!1,g=!0),n.noCheckInDates.length>0&&n.noCheckInDates.indexOf(ue)>-1&&(i=!0,h=!1),n.noCheckOutDates.length>0&&n.noCheckOutDates.indexOf(ue)>-1&&(v=!0),n.noCheckInDaysOfWeek.length>0&&n.noCheckInDaysOfWeek.indexOf(C.format(e.time,"ddd"))>-1&&(i=!0,h=!1),n.noCheckOutDaysOfWeek.length>0&&n.noCheckOutDaysOfWeek.indexOf(C.format(e.time,"ddd"))>-1&&(v=!0)}return e.isToday=t,e.isDisabled=s,e.isCheckOutEnabled=!(s&&n.enableCheckout&&z.value===1),e.isDayBeforeDisabledDate=w,e.isCheckInOnly=r||h,e.isNoCheckIn=i,e.isNoCheckOut=v,e.isDayOfWeekDisabled=g,e},it=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=parseInt(u.value.months[e].days[t].time,10),s=new Date(r);let i;i=te(s.getTime()),(n.minDate&&y(s,n.minDate)<0||n.maxDate&&y(s,n.maxDate)>0)&&(i=!1),u.value.months[e].days[t].isValid=i,u.value.months[e].days[t]=_e(u.value.months[e].days[t])}},we=()=>{F(n.minDate,1),F(Z(n.minDate),2),J()},ut=(e,t,...r)=>{if(r.length>0&&r[0]!==void 0&&r[0],e.getTime()>t.getTime()){let i=t;t=e,e=i,i=null}let s=!0;if((n.minDate&&y(e,n.minDate)<0||n.maxDate&&y(t,n.maxDate)>0)&&(s=!1),!s){we();return}e.setTime(e.getTime()+12*60*60*1e3),t.setTime(t.getTime()+12*60*60*1e3),c.value=e.getTime(),d.value=t.getTime(),y(e,t)>0&&ne(e,t)===0&&(t=Z(e)),ne(e,t)===0&&(t=Z(e)),F(e,1),F(t,2),ee(),J(),Ce()},ee=()=>{if(!(!c.value&&!d.value))for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=u.value.months[e].days[t],s=parseInt(r.time,10);c.value&&d.value&&d.value>=s&&c.value<=s||c.value&&!d.value&&k(c.value,"YYYY-MM-DD")===k(s,"YYYY-MM-DD")?r.isSelected=!0:r.isSelected=!1,c.value&&k(c.value,"YYYY-MM-DD")===k(s,"YYYY-MM-DD")?r.isFirstDaySelected=!0:r.isFirstDaySelected=!1,d.value&&k(d.value,"YYYY-MM-DD")===k(s,"YYYY-MM-DD")?r.isLastDaySelected=!0:r.isLastDaySelected=!1,u.value.months[e].days[t]=Object.assign({},r)}},ft=(e,t)=>{if(!e.isValid||!e.isCurrentMonth)return;const r=D.value.start===null,s=parseInt(e.time,10);if(!(D.value.start&&D.value.start.time===e.time)){if(r){if(e.isNoCheckIn)return}else if(c.value&&(c.value>s&&e.isNoCheckIn||D.value.start&&D.value.start.isNoCheckIn&&c.value>s||e.isNoCheckOut&&s>c.value))return;if(r?(D.value.start=e,c.value=s,d.value=!1):c.value&&(D.value.end=e,d.value=s,xe()),c.value&&d.value&&c.value>d.value){const i=d.value;d.value=c.value,c.value=i}c.value=parseInt(c.value,10),d.value=parseInt(d.value,10),vt(),c.value&&!d.value&&Te(e),Be(),Ce(),c.value&&d.value&&it(),ee(),d.value&&p("selected",{start:c.value,end:d.value}),D.value.end&&ct()}},ct=()=>{D.value.start=null,D.value.end=null},te=e=>{if(e=parseInt(e,10),n.minDate&&y(e,n.minDate)<0||n.maxDate&&y(e,n.maxDate)>0)return!1;if(c.value&&!d.value){if(H.value>0&&T(e,c.value)>H.value||_.value>0&&T(e,c.value)>1&&T(e,c.value)<_.value||n.selectForward&&e<c.value)return!1;if(n.disabledDates.length>0){const t=Ie(new Date(parseInt(c.value,10)));if(t[0]&&y(e,t[0])<=0||t[1]&&y(e,t[1])>=0)return!1}if(n.disabledDaysOfWeek.length>0){const t=Mt(new Date(parseInt(c.value,10)));if(t[0]&&y(e,t[0])<=0||t[1]&&y(e,t[1])>=0)return!1}}return!0},Se=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].selected=!1,u.value.months[e].days[t].isFirstDaySelected=!1,u.value.months[e].days[t].isLastDaySelected=!1;return!0},Ce=()=>{const e=T(d.value,c.value);(H.value&&e>H.value||_.value&&e<_.value)&&(c.value=!1,d.value=!1,Se())},q=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},Ne=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()-t),r},T=(e,t)=>Math.abs(Oe(e)-Oe(t))+1,y=(e,t)=>{const r=parseInt(k(e,"YYYYMMDD"),10)-parseInt(k(t,"YYYYMMDD"),10);return r>0?1:r===0?0:-1},ne=(e,t)=>{const r=parseInt(k(e,"YYYYMM"),10)-parseInt(k(t,"YYYYMM"),10);return r>0?1:r===0?0:-1},Oe=e=>Math.round(dt(e)/864e5),dt=e=>(typeof e=="object"&&e.getTime&&(e=e.getTime()),typeof e=="string"&&!e.match(/\d{13}/)&&(e=U(e).getTime()),e=parseInt(e,10)-new Date().getTimezoneOffset()*60*1e3,e),ht=(e,t)=>{const r=t===1;let s=r?M.value.month2:M.value.month1;return s=Z(s),!re()&&!r&&ne(s,M.value.month2)>=0||R(s)?!1:(n.moveBothMonths&&r&&F(M.value.month2,1),F(s,t+1),ee(),J(),!0)},mt=(e,t)=>{const r=t===1;let s=r?M.value.month2:M.value.month1;return s=se(s),r&&ne(s,M.value.month1)<=0||R(s)?!1:(n.moveBothMonths&&!r&&F(M.value.month1,2),F(s,t+1),ee(),J(),!0)},re=()=>n.showSingleMonth||Dt(),Dt=()=>typeof window>"u"?!1:window.innerWidth<+n.singleMonthBreakpoint,R=e=>{const t=new Date(e.valueOf());return n.minDate&&new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)<n.minDate||n.maxDate&&new Date(t.getFullYear(),t.getMonth(),1)>n.maxDate},J=()=>{if(re()){R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month1))?u.value.months[0].nextBtn=!1:u.value.months[0].nextBtn=!0;return}const e=parseInt(k(M.value.month1,"YYYYMM"),10),t=parseInt(k(M.value.month2,"YYYYMM"),10),r=Math.abs(e-t);r>1&&r!==89?(u.value.months[0].nextBtn=!0,u.value.months[1].prevBtn=!0):(u.value.months[0].nextBtn=!1,u.value.months[1].prevBtn=!1),R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month2))?u.value.months[1].nextBtn=!1:u.value.months[1].nextBtn=!0},Be=()=>{const e=c.value&&!d.value;for(let t=0;t<u.value.months.length;t++)for(let r=0;r<u.value.months[t].days.length;r++){let s=u.value.months[t].days[r];if(!s.isValid&&s.isTmp&&(s.isTmp=!1,s.isTmpValid?s.isValid=!0:s.isTmpValid=!0),e){if(s.isCurrentMonth&&(s.isValid||s.isDisabled||s.isBeforeDisabledDate)){const i=parseInt(s.time,10);te(i)?(s.isValid=!0,s.isTmp=!0,s.isDisabled=!1):(s.valid||(s.isTmpValid=!1),s.isValid=!1,s.isTmp=!0)}}else(s.checkOutEnabled||s.beforeDisabledDate)&&(s.isValid=!1,s.beforeDisabledDate||(s.isDisabled=!0));u.value.months[t].days.splice(r,1,s)}return!0},Te=(e,t)=>{const r=parseInt(e.time,10);if(e.isValid&&Ve(e)){for(let s=0;s<u.value.months.length;s++)for(let i=0;i<u.value.months[s].days.length;i++){const v=parseInt(u.value.months[s].days[i].time,10);v===r?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1,c.value&&!d.value&&(c.value<v&&r>=v||c.value>v&&r<=v)?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1}c.value&&!d.value&&(b.count=T(r,c.value)-1)}},vt=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].isHovering=!1},pt=()=>{const e=[];for(let t=0;t<n.disabledDates.length;t++)e[t]=C.parse(n.disabledDates[t],"YYYY-MM-DD");e.sort((t,r)=>t-r),m.value=e},Ie=e=>{let t=[!1,!1];if(e<m.value[0])n.enableCheckout?t=[!1,q(m.value[0],1)]:t=[!1,m.value[0]];else if(e>m.value[m.value.length-1])t=[m.value[m.value.length-1],!1];else{let r=m.value.length,s=m.value.length;const i=Math.abs(new Date(0,0,0).valueOf());let v=i,g=-i,h=0,w;for(w=0;w<m.value.length;++w)h=e-m.value[w],h<0&&h>g&&(s=w,g=h),h>0&&h<v&&(r=w,v=h);m.value[r]&&(t[0]=m.value[r]),typeof m.value[r]>"u"?t[1]=!1:n.enableCheckout?t[1]=q(m.value[s],1):t[1]=m.value[s]}return t},le=l.ref([]),gt=()=>{const e=[],t=[],r=new Date;for(let s=0;s<7;s++){const i=q(r,s);e[C.format(i,"d")]=C.format(i,"ddd")}for(let s=0;s<n.disabledDaysOfWeek.length;s++)t.push(e.indexOf(n.disabledDaysOfWeek[s]));t.sort(),le.value=t},Mt=e=>{const t=[!1,!1];for(let r=0;r<7;r++){const s=Ne(e,r);if(le.value.indexOf(parseInt(C.format(s,"d"),10))>-1){t[0]=s;break}}for(let r=0;r<7;r++){const s=q(e,r);if(le.value.indexOf(parseInt(C.format(s,"d"),10))>-1){t[1]=s;break}}return t},kt=(e,t)=>{typeof e=="string"&&typeof t=="string"?(e=U(e),t=U(t)):(e=new Date(e.getTime()),t=new Date(t.getTime())),ut(e,t)},b=l.reactive({show:!1,top:0,left:0,width:0,count:0,error:!1}),xe=()=>b.show=!1,Ve=e=>!(!e.isValid||!e.isCurrentMonth),yt=(e,t)=>{if(!D.value.start||D.value.start&&D.value.end||!Ve(t))return!1;b.show=!0;const r=He.value.getBoundingClientRect(),s=e.target.getBoundingClientRect();b.top=s.top-r.top-35,b.left=s.left-r.left,b.width=s.width},He=l.ref(null),oe=()=>{u.value.showSingleMonth=re()};l.watch(()=>u.value.showSingleMonth,()=>{J()});const Ee=()=>typeof client<"u";l.onUnmounted(()=>{window.removeEventListener("resize",()=>oe())});const ie=l.ref(!1);return l.onMounted(()=>{window.addEventListener("resize",()=>oe()),oe(),J(),ie.value=!0}),lt(),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:"h_datepicker",ref_key:"parent",ref:He},[l.createElementVNode("div",{class:l.normalizeClass([{h_datepicker_invisible:!b.show,visible:b.show},"h_datepicker_popup"]),style:l.normalizeStyle({top:b.top+"px",left:b.left+"px",width:b.width+"px"})},[l.createElementVNode("div",Ue,[l.renderSlot(e.$slots,"popup",{nights:b.count},()=>[l.createTextVNode(l.toDisplayString(b.count?b.count+" "+(b.count>1?A("nights"):A("night")):A("not selected")),1)],!0)])],6),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(u.value.months,(r,s)=>(l.openBlock(),l.createElementBlock("div",{key:r.id,class:l.normalizeClass(["h_datepicker_month",{h_datepicker_hidden:s===1&&u.value.showSingleMonth,h_datepicker_two_month_display:!u.value.showSingleMonth,h_datepicker_one_month_display:u.value.showSingleMonth,"h_datepicker_month-1":s===0,"h_datepicker_month-2":s===1}])},[l.createElementVNode("div",qe,[l.createElementVNode("div",Ge,[ie.value||!Ee?(l.openBlock(),l.createElementBlock("div",{key:0,onClick:i=>mt(r,s),class:l.normalizeClass(["h_datepicker_month_control_btn",{h_datepicker_invisible:!r.prevBtn}])},[l.renderSlot(e.$slots,"prev",{},()=>[l.createTextVNode(" <<")],!0)],10,Ke)):l.createCommentVNode("",!0)]),l.createElementVNode("div",Qe,[l.renderSlot(e.$slots,"month",{month:r},()=>[l.createTextVNode(l.toDisplayString(r.name)+" "+l.toDisplayString(r.year),1)],!0)]),l.createElementVNode("div",Xe,[ie.value||!Ee?(l.openBlock(),l.createElementBlock("div",{key:0,onClick:i=>ht(r,s),class:l.normalizeClass(["h_datepicker_month_control_btn",{h_datepicker_invisible:!r.nextBtn}])},[l.renderSlot(e.$slots,"next",{},()=>[l.createTextVNode(" >>")],!0)],10,et)):l.createCommentVNode("",!0)])]),l.createElementVNode("div",tt,[l.createElementVNode("div",nt,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(ae(),i=>(l.openBlock(),l.createElementBlock("div",at,[l.renderSlot(e.$slots,"weekday",{weekday:i},()=>[l.createTextVNode(l.toDisplayString(i),1)],!0)]))),256))]),l.createElementVNode("div",st,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(r.days,i=>(l.openBlock(),l.createElementBlock("div",{onClick:v=>ft(i),onMouseout:t[0]||(t[0]=v=>xe()),onMouseover:v=>Te(i)||yt(v,i),class:l.normalizeClass([{h_datepicker_notCurrentMonth:!i.isCurrentMonth,h_datepicker_valid:i.isValid,h_datepicker_invalid:!i.isValid,h_datepicker_tmp_invalid:!i.isTmpValid,h_datepicker_tmp_valid:i.isTmpValid,h_datepicker_disabled:i.isDisabled,h_datepicker_checkout_enabled:i.isCheckOutEnabled,h_datepicker_checkout_disabled:!i.isCheckOutEnabled,h_datepicker_checkin_enabled:!i.isNoCheckIn,h_datepicker_checkin_disabled:i.isNoCheckIn,h_datepicker_before_disabled_date:i.isDayBeforeDisabledDate,h_datepicker_first_day_selected:i.isFirstDaySelected,h_datepicker_last_day_selected:i.isLastDaySelected,h_datepicker_selected:i.isSelected,h_datepicker_hovering:i.isHovering},"h_datepicker_day"])},[l.renderSlot(e.$slots,"day",{day:i},()=>[l.createTextVNode(l.toDisplayString(i.day),1)],!0)],42,rt))),256))])])],2))),128))],512))}},[["__scopeId","data-v-e09819b5"]])});
