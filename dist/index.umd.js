(function(r,$){typeof exports=="object"&&typeof module<"u"?module.exports=$(require("vue")):typeof define=="function"&&define.amd?define(["vue"],$):(r=typeof globalThis<"u"?globalThis:r||self,r.Vue3HotelDatePicker=$(r.Vue))})(this,function(r){"use strict";var $=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,V="\\d\\d?",H="\\d\\d",We="\\d{3}",Pe="\\d{4}",j="[^\\s]+",de=/\[([^]*?)\]/gm;function he(a,o){for(var n=[],g=0,f=a.length;g<f;g++)n.push(a[g].substr(0,o));return n}var me=function(a){return function(o,n){var g=n[a].map(function(O){return O.toLowerCase()}),f=g.indexOf(o.toLowerCase());return f>-1?f:null}};function W(a){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var g=0,f=o;g<f.length;g++){var O=f[g];for(var B in O)a[B]=O[B]}return a}var De=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ve=["January","February","March","April","May","June","July","August","September","October","November","December"],ze=he(ve,3),Ae=he(De,3),ge={dayNamesShort:Ae,dayNames:De,monthNamesShort:ze,monthNames:ve,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},G=W({},ge),$e=function(a){return G=W(G,a)},pe=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},Y=function(a,o){for(o===void 0&&(o=2),a=String(a);a.length<o;)a="0"+a;return a},Le={D:function(a){return String(a.getDate())},DD:function(a){return Y(a.getDate())},Do:function(a,o){return o.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return Y(a.getDay())},ddd:function(a,o){return o.dayNamesShort[a.getDay()]},dddd:function(a,o){return o.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return Y(a.getMonth()+1)},MMM:function(a,o){return o.monthNamesShort[a.getMonth()]},MMMM:function(a,o){return o.monthNames[a.getMonth()]},YY:function(a){return Y(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return Y(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return Y(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return Y(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return Y(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return Y(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return Y(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return Y(a.getMilliseconds(),3)},a:function(a,o){return a.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(a,o){return a.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4)},Z:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+Y(Math.floor(Math.abs(o)/60),2)+":"+Y(Math.abs(o)%60,2)}},Me=function(a){return+a-1},ye=[null,V],ke=[null,j],be=["isPm",j,function(a,o){var n=a.toLowerCase();return n===o.amPm[0]?0:n===o.amPm[1]?1:null}],Ye=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var o=(a+"").match(/([+-]|\d\d)/gi);if(o){var n=+o[1]*60+parseInt(o[2],10);return o[0]==="+"?n:-n}return 0}],Ze={D:["day",V],DD:["day",H],Do:["day",V+j,function(a){return parseInt(a,10)}],M:["month",V,Me],MM:["month",H,Me],YY:["year",H,function(a){var o=new Date,n=+(""+o.getFullYear()).substr(0,2);return+(""+(+a>68?n-1:n)+a)}],h:["hour",V,void 0,"isPm"],hh:["hour",H,void 0,"isPm"],H:["hour",V],HH:["hour",H],m:["minute",V],mm:["minute",H],s:["second",V],ss:["second",H],YYYY:["year",Pe],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",H,function(a){return+a*10}],SSS:["millisecond",We],d:ye,dd:ye,ddd:ke,dddd:ke,MMM:["month",j,me("monthNamesShort")],MMMM:["month",j,me("monthNames")],a:be,A:be,ZZ:Ye,Z:Ye},K={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},Re=function(a){return W(K,a)},Je=function(a,o,n){if(o===void 0&&(o=K.default),n===void 0&&(n={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");o=K[o]||o;var g=[];o=o.replace(de,function(O,B){return g.push(B),"@@@"});var f=W(W({},G),n);return o=o.replace($,function(O){return Le[O](a,f)}),o.replace(/@@@/g,function(){return g.shift()})};function je(a,o,n){if(n===void 0&&(n={}),typeof o!="string")throw new Error("Invalid format in fecha parse");if(o=K[o]||o,a.length>1e3)return null;var g=new Date,f={year:g.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},O=[],B=[],P=o.replace(de,function(D,u){return B.push(pe(u)),"@@@"}),L={},_={};P=pe(P).replace($,function(D){var u=Ze[D],A=u[0],ae=u[1],X=u[3];if(L[A])throw new Error("Invalid format. "+A+" specified twice in format");return L[A]=!0,X&&(_[X]=!0),O.push(u),"("+ae+")"}),Object.keys(_).forEach(function(D){if(!L[D])throw new Error("Invalid format. "+D+" is required in specified format")}),P=P.replace(/@@@/g,function(){return B.shift()});var w=a.match(new RegExp(P,"i"));if(!w)return null;for(var c=W(W({},G),n),d=1;d<w.length;d++){var F=O[d-1],M=F[0],z=F[2],Q=z?z(w[d],c):+w[d];if(Q==null)return null;f[M]=Q}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var N;if(f.timezoneOffset==null){N=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var T=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,m=T.length;d<m;d++)if(L[T[d][0]]&&f[T[d][0]]!==N[T[d][1]]())return null}else if(N=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return N}var C={format:Je,parse:je,defaultI18n:ge,setGlobalDateI18n:$e,setGlobalDateMasks:Re};const Ue=(a,o)=>{const n=a.__vccOpts||a;for(const[g,f]of o)n[g]=f;return n},qe={style:{"pointer-events":"none"}},Ge={class:"month_control_panel"},Ke={class:"month_control_item"},Qe=["onClick"],Xe={class:"month_control_item"},et={class:"month_control_item"},tt=["onClick"],nt={class:"month_box"},at={class:"week_name"},st=["onClick","onMouseover"];return Ue({__name:"Vue3HotelDatePicker",props:{format:{default:"YYYY-MM-DD",type:String},startOfWeek:{default:"monday",type:String},separator:{default:"-",type:String},selectedDates:{default:!1,type:[Array,Boolean]},startDate:{default:!1,type:[String,Boolean]},endDate:{default:!1,type:[String,Boolean]},minDate:{default:()=>new Date},maxDate:{default:()=>!1,type:Boolean},disabledDaysOfWeek:{default:()=>[]},moveBothMonths:{default:!1,type:Boolean},noCheckOutDates:{default:()=>[]},noCheckInDates:{default:()=>[]},noCheckInDaysOfWeek:{default:()=>[]},noCheckOutDaysOfWeek:{default:()=>[]},maxNights:0,minNights:1,singleMonthBreakpoint:{default:!1,type:[Number,Boolean]},selectForward:Boolean,showSingleMonth:Boolean,disabledDates:{default:!1,type:[Array,Boolean]},enableCheckout:Boolean,weekDays:{default:()=>["sun","mon","tue","wed","thu","fri","sat"],type:Array},monthNames:{default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"],type:Array},i18n:{default:()=>({"not selected":"Not selected",night:"Night",nights:"Nights"}),type:Object}},emits:{selected:({start:a,end:o})=>!0},setup(a,{emit:o}){const n=a,g=o,f=r.ref(!0);r.ref(!1);const O=r.ref(!1),B=r.ref(!1),P=r.ref(!1),L=r.ref(!1),_=r.ref(n.maxNights),w=r.ref(n.minNights),c=r.ref(n.startDate??!1),d=r.ref(n.endDate??!1);r.ref(null);const F=r.ref(null),M=r.ref({}),z=r.ref(0);r.ref(null);const Q=r.ref(null);O.value=!1,B.value=!1,P.value=!1,L.value=!1;const N=r.ref(n.startDate),T=r.ref(n.endDate),m=r.ref([]),D=r.ref({start:null,end:null}),u=r.ref({months:[],open:!0,submitButton:!1,clearButton:!1,showSingleMonth:n.showSingleMonth});r.computed({error:!1,textContent:"",show:!1});const A=e=>e in n.i18n?n.i18n[e]:"",ae=()=>{let e=[];if(n.startOfWeek==="monday"){for(let t=0;t<7;t++)e.push(n.weekDays[(1+t)%7]);return e}for(let t=0;t<7;t++)e.push(n.weekDays[t]);return e},X=e=>n.monthNames[e],Z=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()+1,1))},se=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()-1,1))},y=(e,t=null)=>{let l=t??n.format;return C.format(e,l)},U=(e,t=null)=>{let l=t??n.format;return C.parse(e,l)},lt=()=>{w.value=n.minNights>1?n.minNights+1:2,_.value=n.maxNights>0?n.maxNights+1:0,n.startDate&&typeof n.startDate=="string"&&(N.value=U(n.startDate)),n.endDate&&typeof n.endDate=="string"&&(T.value=U(T.value)),n.disabledDates.length>0&&gt(),n.disabledDaysOfWeek.length>0&&pt(),N.value&&T.value?yt(N.value,T.value):Oe(),Q.value&&(f.value||!c.value&&!d.value)&&(u.value.clearButton=!0),z.value=0,F.value=!1},E=(e,t)=>{e=new Date(e);let l={name:X(e.getMonth()),month:e.getMonth(),year:e.getFullYear(),id:e.getFullYear()+e.getMonth(),days:[],nextBtn:!0,prevBtn:!0};e.setHours(0,0,0,0),l.days=rt(e),u.value.months.splice(t-1,1,l),xe(),M.value["month"+t]=e},we={date:{},type:"",day:"",time:"",isValid:!1,isTmp:!1,isCurrentMonth:!1,isToday:!1,isNoCheckIn:!1,isNoCheckOut:!1,isDisabled:!1,isDayOfWeekDisabled:!1,isFirstEnabledDate:!1,isCheckInOnly:!1,isDayBeforeDisabledDate:!1},rt=e=>{const t=[],l=[];let s;e.setDate(1);let i=e.getDay();const v=e.getMonth();if(i===0&&n.startOfWeek==="monday"&&(i=7),i>0)for(let p=i;p>0;p--){const h=new Date(e.getTime()-864e5*p);s=te(h.getTime()),(n.minDate&&k(h,n.minDate)<0||n.maxDate&&k(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},we,{date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),isValid:s}))}for(let p=0;p<40;p++){const h=q(e,p);s=te(h.getTime()),(n.minDate&&k(h,n.minDate)<0||n.maxDate&&k(h,n.maxDate)>0)&&(s=!1),t.push(Object.assign({},we,{date:h,type:h.getMonth()===v?"visibleMonth":"nextMonth",day:h.getDate(),time:h.getTime(),isCurrentMonth:h.getMonth()===v,isValid:s}))}for(let p=0;p<6&&t[p*7].type!=="nextMonth";p++)for(let h=0;h<7;h++){let S=n.startOfWeek==="monday"?h+1:h;S=t[p*7+S],l.push(Se(S))}return l},Se=e=>{const t=y(e.time)===y(new Date),l=y(e.time)===y(n.minDate);let s=!1,i=!1,v=!1,p=!1,h=!1,S=!1;if(e.valid||e.type==="visibleMonth"){const fe=y(e.time,"YYYY-MM-DD");if(n.disabledDates.length>0){const I=Ve(e.date);if(I[0]===!1&&(I[0]=Ne(N.value,1)),I[0]&&I[1]&&k(e.date,I[0])&&x(I[0],I[1])-2>0){const ce=x(I[1],e.date)-1,bt=x(e.date,I[0])-1;(n.selectForward&&ce<w.value||!n.selectForward&&ce<w.value&&bt<w.value)&&(e.isValid=!1),!e.isValid&&n.enableCheckout&&ce===2&&(S=!0)}n.disabledDates.indexOf(fe)>-1?(e.isValid=!1,s=!0,z.value++,F.value=e.date):z.value=0,e.isValid&&F.value&&k(e.date,F.value)>0&&x(e.date,F.value)===2&&(h=!0)}n.disabledDaysOfWeek.length>0&&n.disabledDaysOfWeek.indexOf(C.format(e.time,"dddd"))>-1&&(e.isValid=!1,p=!0),n.noCheckInDates.length>0&&n.noCheckInDates.indexOf(fe)>-1&&(i=!0,h=!1),n.noCheckOutDates.length>0&&n.noCheckOutDates.indexOf(fe)>-1&&(v=!0),n.noCheckInDaysOfWeek.length>0&&n.noCheckInDaysOfWeek.indexOf(C.format(e.time,"dddd"))>-1&&(i=!0,h=!1),n.noCheckOutDaysOfWeek.length>0&&n.noCheckOutDaysOfWeek.indexOf(C.format(e.time,"dddd"))>-1&&(v=!0)}return e.isToday=t,e.isDisabled=s,e.isCheckOutEnabled=s&&n.enableCheckout&&z.value===1,e.isDayBeforeDisabledDate=S,e.isCheckInOnly=l||h,e.isNoCheckIn=i,e.isNoCheckOut=v,e.isDayOfWeekDisabled=p,e},ot=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const l=parseInt(u.value.months[e].days[t].time,10),s=new Date(l);let i;i=te(s.getTime()),(n.minDate&&k(s,n.minDate)<0||n.maxDate&&k(s,n.maxDate)>0)&&(i=!1),u.value.months[e].days[t].isValid=i,u.value.months[e].days[t]=Se(u.value.months[e].days[t])}},Oe=()=>{E(n.minDate,1),E(Z(n.minDate),2),J()},it=(e,t,...l)=>{if(l.length>0&&l[0]!==void 0&&l[0],e.getTime()>t.getTime()){let i=t;t=e,e=i,i=null}let s=!0;if((n.minDate&&k(e,n.minDate)<0||n.maxDate&&k(t,n.maxDate)>0)&&(s=!1),!s){Oe();return}e.setTime(e.getTime()+12*60*60*1e3),t.setTime(t.getTime()+12*60*60*1e3),c.value=e.getTime(),d.value=t.getTime(),k(e,t)>0&&ne(e,t)===0&&(t=Z(e)),ne(e,t)===0&&(t=Z(e)),E(e,1),E(t,2),ee(),J(),Be()},ee=()=>{if(!(!c.value&&!d.value))for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const l=u.value.months[e].days[t],s=parseInt(l.time,10);c.value&&d.value&&d.value>=s&&c.value<=s||c.value&&!d.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isSelected=!0:l.isSelected=!1,c.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isFirstDaySelected=!0:l.isFirstDaySelected=!1,d.value&&y(d.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isLastDaySelected=!0:l.isLastDaySelected=!1,u.value.months[e].days[t]=Object.assign({},l)}},ut=(e,t)=>{if(!e.isValid||!e.isCurrentMonth)return;const l=D.value.start===null,s=parseInt(e.time,10);if(!(D.value.start&&D.value.start.time===e.time)){if(l){if(e.isNoCheckIn)return}else if(c.value&&(c.value>s&&e.isNoCheckIn||D.value.start&&D.value.start.isNoCheckIn&&c.value>s||e.isNoCheckOut&&s>c.value))return;if(l?(D.value.start=e,c.value=s,d.value=!1):c.value&&(D.value.end=e,d.value=s,He()),c.value&&d.value&&c.value>d.value){const i=d.value;d.value=c.value,c.value=i}c.value=parseInt(c.value,10),d.value=parseInt(d.value,10),vt(),c.value&&!d.value&&Ie(e),xe(),Be(),c.value&&d.value&&ot(),ee(),d.value&&g("selected",{start:c.value,end:d.value}),D.value.end&&ft()}},ft=()=>{D.value.start=null,D.value.end=null},te=e=>{if(e=parseInt(e,10),n.minDate&&k(e,n.minDate)<0||n.maxDate&&k(e,n.maxDate)>0)return!1;if(c.value&&!d.value){if(_.value>0&&x(e,c.value)>_.value||w.value>0&&x(e,c.value)>1&&x(e,c.value)<w.value||n.selectForward&&e<c.value)return!1;if(n.disabledDates.length>0){const t=Ve(new Date(parseInt(c.value,10)));if(t[0]&&k(e,t[0])<=0||t[1]&&k(e,t[1])>=0)return!1}if(n.disabledDaysOfWeek.length>0){const t=Mt(new Date(parseInt(c.value,10)));if(t[0]&&k(e,t[0])<=0||t[1]&&k(e,t[1])>=0)return!1}}return!0},Ce=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].selected=!1,u.value.months[e].days[t].isFirstDaySelected=!1,u.value.months[e].days[t].isLastDaySelected=!1;return!0},Be=()=>{const e=x(d.value,c.value);(_.value&&e>_.value||w.value&&e<w.value)&&(c.value=!1,d.value=!1,Ce())},q=(e,t)=>{const l=new Date(e);return l.setDate(l.getDate()+t),l},Ne=(e,t)=>{const l=new Date(e);return l.setDate(l.getDate()-t),l},x=(e,t)=>Math.abs(Te(e)-Te(t))+1,k=(e,t)=>{const l=parseInt(y(e,"YYYYMMDD"),10)-parseInt(y(t,"YYYYMMDD"),10);return l>0?1:l===0?0:-1},ne=(e,t)=>{const l=parseInt(y(e,"YYYYMM"),10)-parseInt(y(t,"YYYYMM"),10);return l>0?1:l===0?0:-1},Te=e=>Math.round(ct(e)/864e5),ct=e=>(typeof e=="object"&&e.getTime&&(e=e.getTime()),typeof e=="string"&&!e.match(/\d{13}/)&&(e=U(e).getTime()),e=parseInt(e,10)-new Date().getTimezoneOffset()*60*1e3,e),dt=(e,t)=>{const l=t===1;let s=l?M.value.month2:M.value.month1;return s=Z(s),!re()&&!l&&ne(s,M.value.month2)>=0||R(s)?!1:(n.moveBothMonths&&l&&E(M.value.month2,1),E(s,t+1),ee(),J(),!0)},ht=(e,t)=>{const l=t===1;let s=l?M.value.month2:M.value.month1;return s=se(s),l&&ne(s,M.value.month1)<=0||R(s)?!1:(n.moveBothMonths&&!l&&E(M.value.month1,2),E(s,t+1),ee(),J(),!0)},le=r.ref([]),re=()=>n.showSingleMonth||mt(),mt=()=>typeof window>"u"?!1:n.singleMonthBreakpoint?window.innerWidth<n.singleMonthBreakpoint:window.innerWidth<Dt(),Dt=()=>le.value[0]?2*le.value[0].offsetWidth+50:0,R=e=>{const t=new Date(e.valueOf());return n.minDate&&new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)<n.minDate||n.maxDate&&new Date(t.getFullYear(),t.getMonth(),1)>n.maxDate},J=()=>{if(re()){R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month1))?u.value.months[0].nextBtn=!1:u.value.months[0].nextBtn=!0;return}const e=parseInt(y(M.value.month1,"YYYYMM"),10),t=parseInt(y(M.value.month2,"YYYYMM"),10),l=Math.abs(e-t);l>1&&l!==89?(u.value.months[0].nextBtn=!0,u.value.months[1].prevBtn=!0):(u.value.months[0].nextBtn=!1,u.value.months[1].prevBtn=!1),R(se(M.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,R(Z(M.value.month2))?u.value.months[1].nextBtn=!1:u.value.months[1].nextBtn=!0},xe=()=>{const e=c.value&&!d.value;for(let t=0;t<u.value.months.length;t++)for(let l=0;l<u.value.months[t].days.length;l++){let s=u.value.months[t].days[l];if(!s.isValid&&s.isTmp&&(s.isTmp=!1,s.isTmpValid?s.isValid=!0:s.isTmpValid=!0),e){if(s.isCurrentMonth&&(s.isValid||s.isDisabled||s.isBeforeDisabledDate)){const i=parseInt(s.time,10);te(i)?(s.isValid=!0,s.isTmp=!0,s.isDisabled=!1):(s.valid||(s.isTmpValid=!1),s.isValid=!1,s.isTmp=!0)}}else(s.checkOutEnabled||s.beforeDisabledDate)&&(s.isValid=!1,s.beforeDisabledDate||(s.isDisabled=!0));u.value.months[t].days.splice(l,1,s)}return!0},Ie=(e,t)=>{const l=parseInt(e.time,10);if(e.isValid&&_e(e)){for(let s=0;s<u.value.months.length;s++)for(let i=0;i<u.value.months[s].days.length;i++){const v=parseInt(u.value.months[s].days[i].time,10);v===l?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1,c.value&&!d.value&&(c.value<v&&l>=v||c.value>v&&l<=v)?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1}c.value&&!d.value&&(b.count=x(l,c.value)-1)}},vt=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].isHovering=!1},gt=()=>{const e=[];for(let t=0;t<n.disabledDates.length;t++)e[t]=C.parse(n.disabledDates[t],"YYYY-MM-DD");e.sort((t,l)=>t-l),m.value=e},Ve=e=>{let t=[!1,!1];if(e<m.value[0])n.enableCheckout?t=[!1,q(m.value[0],1)]:t=[!1,m.value[0]];else if(e>m.value[m.value.length-1])t=[m.value[m.value.length-1],!1];else{let l=m.value.length,s=m.value.length;const i=Math.abs(new Date(0,0,0).valueOf());let v=i,p=-i,h=0,S;for(S=0;S<m.value.length;++S)h=e-m.value[S],h<0&&h>p&&(s=S,p=h),h>0&&h<v&&(l=S,v=h);m.value[l]&&(t[0]=m.value[l]),typeof m.value[l]>"u"?t[1]=!1:n.enableCheckout?t[1]=q(m.value[s],1):t[1]=m.value[s]}return t},oe=r.ref([]),pt=()=>{const e=[],t=[],l=new Date;for(let s=0;s<7;s++){const i=q(l,s);e[C.format(i,"d")]=C.format(i,"dddd")}for(let s=0;s<n.disabledDaysOfWeek.length;s++)t.push(e.indexOf(n.disabledDaysOfWeek[s]));t.sort(),oe.value=t},Mt=e=>{const t=[!1,!1];for(let l=0;l<7;l++){const s=Ne(e,l);if(oe.value.indexOf(parseInt(C.format(s,"d"),10))>-1){t[0]=s;break}}for(let l=0;l<7;l++){const s=q(e,l);if(oe.value.indexOf(parseInt(C.format(s,"d"),10))>-1){t[1]=s;break}}return t},yt=(e,t)=>{typeof e=="string"&&typeof t=="string"?(e=U(e),t=U(t)):(e=new Date(e.getTime()),t=new Date(t.getTime())),it(e,t)},b=r.reactive({show:!1,top:0,left:0,width:0,count:0,error:!1}),He=()=>b.show=!1,_e=e=>!(!e.isValid||!e.isCurrentMonth),kt=(e,t)=>{if(!D.value.start||D.value.start&&D.value.end||!_e(t))return!1;b.show=!0;const l=Fe.value.getBoundingClientRect(),s=e.target.getBoundingClientRect();b.top=s.top-l.top-35,b.left=s.left-l.left,b.width=s.width},Fe=r.ref(null),ie=()=>{u.value.showSingleMonth=re()};r.watch(()=>u.value.showSingleMonth,()=>{J()});const Ee=()=>typeof client<"u";r.onUnmounted(()=>{window.removeEventListener("resize",()=>ie())});const ue=r.ref(!1);return r.onMounted(()=>{window.addEventListener("resize",()=>ie()),ie(),J(),ue.value=!0}),lt(),(e,t)=>(r.openBlock(),r.createElementBlock("div",{class:"h-datepicker",ref_key:"parent",ref:Fe},[r.createElementVNode("div",{class:r.normalizeClass([{"h-datepicker_invisible":!b.show,visible:b.show},"h_datepicker_popup"]),style:r.normalizeStyle({top:b.top+"px",left:b.left+"px",width:b.width+"px"})},[r.createElementVNode("div",qe,[r.renderSlot(e.$slots,"popup",{nights:b.count},()=>[r.createTextVNode(r.toDisplayString(b.count?b.count+" "+(b.count>1?A("nights"):A("night")):A("not selected")),1)],!0)])],6),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(u.value.months,(l,s)=>(r.openBlock(),r.createElementBlock("div",{key:l.id,ref_for:!0,ref_key:"monthsDoms",ref:le,class:r.normalizeClass(["h-datepicker_month",{"h-datepicker_hidden":s===1&&u.value.showSingleMonth,"h-datepicker_two_month_display":!u.value.showSingleMonth,"h-datepicker_one_month_display":u.value.showSingleMonth,"h-datepicker_month-1":s===0,"h-datepicker_month-2":s===1}])},[r.createElementVNode("div",Ge,[r.createElementVNode("div",Ke,[ue.value||!Ee?(r.openBlock(),r.createElementBlock("div",{key:0,onClick:i=>ht(l,s),class:r.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!l.prevBtn}])},[r.renderSlot(e.$slots,"prev",{},()=>[r.createTextVNode(" <<")],!0)],10,Qe)):r.createCommentVNode("",!0)]),r.createElementVNode("div",Xe,[r.renderSlot(e.$slots,"month",{month:l},()=>[r.createTextVNode(r.toDisplayString(l.name)+" "+r.toDisplayString(l.year),1)],!0)]),r.createElementVNode("div",et,[ue.value||!Ee?(r.openBlock(),r.createElementBlock("div",{key:0,onClick:i=>dt(l,s),class:r.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!l.nextBtn}])},[r.renderSlot(e.$slots,"next",{},()=>[r.createTextVNode(" >> ")],!0)],10,tt)):r.createCommentVNode("",!0)])]),r.createElementVNode("div",nt,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(ae(),i=>(r.openBlock(),r.createElementBlock("div",at,[r.renderSlot(e.$slots,"weekday",{weekday:i},()=>[r.createTextVNode(r.toDisplayString(i),1)],!0)]))),256)),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(l.days,i=>(r.openBlock(),r.createElementBlock("div",{onClick:v=>ut(i),onMouseout:t[0]||(t[0]=v=>He()),onMouseover:v=>Ie(i)||kt(v,i),class:r.normalizeClass([{h_datepicker_notCurrentMonth:!i.isCurrentMonth,valid:i.isValid,invalid:!i.isValid,tmpinvalid:!i.isTmpValid,tmp:i.isTmpValid,h_datepicker_valid:i.isDisabled,"checkout-enabled":i.isCheckOutEnabled,"checkout-disabled":!i.isCheckOutEnabled,"before-disabled-date":i.isDayBeforeDisabledDate,"first-day-selected":i.isFirstDaySelected,"last-day-selected":i.isLastDaySelected,selected:i.isSelected,hovering:i.isHovering},"h_datepicker_day"])},[r.renderSlot(e.$slots,"day",{day:i},()=>[r.createTextVNode(r.toDisplayString(i.day),1)],!0)],42,st))),256))])],2))),128))],512))}},[["__scopeId","data-v-e9e2a6e8"]])});
