(function(r,A){typeof exports=="object"&&typeof module<"u"?module.exports=A(require("vue")):typeof define=="function"&&define.amd?define(["vue"],A):(r=typeof globalThis<"u"?globalThis:r||self,r.Vue3HotelDatePicker=A(r.Vue))})(this,function(r){"use strict";var A=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,I="\\d\\d?",V="\\d\\d",_e="\\d{3}",Ee="\\d{4}",R="[^\\s]+",fe=/\[([^]*?)\]/gm;function ce(a,o){for(var n=[],g=0,f=a.length;g<f;g++)n.push(a[g].substr(0,o));return n}var de=function(a){return function(o,n){var g=n[a].map(function(C){return C.toLowerCase()}),f=g.indexOf(o.toLowerCase());return f>-1?f:null}};function J(a){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var g=0,f=o;g<f.length;g++){var C=f[g];for(var N in C)a[N]=C[N]}return a}var he=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],me=["January","February","March","April","May","June","July","August","September","October","November","December"],Fe=ce(me,3),We=ce(he,3),Pe={dayNamesShort:We,dayNames:he,monthNamesShort:Fe,monthNames:me,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},De=J({},Pe),ve=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},b=function(a,o){for(o===void 0&&(o=2),a=String(a);a.length<o;)a="0"+a;return a},ze={D:function(a){return String(a.getDate())},DD:function(a){return b(a.getDate())},Do:function(a,o){return o.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return b(a.getDay())},ddd:function(a,o){return o.dayNamesShort[a.getDay()]},dddd:function(a,o){return o.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return b(a.getMonth()+1)},MMM:function(a,o){return o.monthNamesShort[a.getMonth()]},MMMM:function(a,o){return o.monthNames[a.getMonth()]},YY:function(a){return b(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return b(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return b(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return b(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return b(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return b(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return b(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return b(a.getMilliseconds(),3)},a:function(a,o){return a.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(a,o){return a.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+b(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4)},Z:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+b(Math.floor(Math.abs(o)/60),2)+":"+b(Math.abs(o)%60,2)}},ge=function(a){return+a-1},pe=[null,I],Me=[null,R],ye=["isPm",R,function(a,o){var n=a.toLowerCase();return n===o.amPm[0]?0:n===o.amPm[1]?1:null}],Ye=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var o=(a+"").match(/([+-]|\d\d)/gi);if(o){var n=+o[1]*60+parseInt(o[2],10);return o[0]==="+"?n:-n}return 0}],Ae={D:["day",I],DD:["day",V],Do:["day",I+R,function(a){return parseInt(a,10)}],M:["month",I,ge],MM:["month",V,ge],YY:["year",V,function(a){var o=new Date,n=+(""+o.getFullYear()).substr(0,2);return+(""+(+a>68?n-1:n)+a)}],h:["hour",I,void 0,"isPm"],hh:["hour",V,void 0,"isPm"],H:["hour",I],HH:["hour",V],m:["minute",I],mm:["minute",V],s:["second",I],ss:["second",V],YYYY:["year",Ee],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",V,function(a){return+a*10}],SSS:["millisecond",_e],d:pe,dd:pe,ddd:Me,dddd:Me,MMM:["month",R,de("monthNamesShort")],MMMM:["month",R,de("monthNames")],a:ye,A:ye,ZZ:Ye,Z:Ye},ne={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},H=function(a,o,n){if(o===void 0&&(o=ne.default),n===void 0&&(n={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");o=ne[o]||o;var g=[];o=o.replace(fe,function(C,N){return g.push(N),"@@@"});var f=J(J({},De),n);return o=o.replace(A,function(C){return ze[C](a,f)}),o.replace(/@@@/g,function(){return g.shift()})};function be(a,o,n){if(n===void 0&&(n={}),typeof o!="string")throw new Error("Invalid format in fecha parse");if(o=ne[o]||o,a.length>1e3)return null;var g=new Date,f={year:g.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},C=[],N=[],W=o.replace(fe,function(D,i){return N.push(ve(i)),"@@@"}),$={},_={};W=ve(W).replace(A,function(D){var i=Ae[D],z=i[0],ae=i[1],K=i[3];if($[z])throw new Error("Invalid format. "+z+" specified twice in format");return $[z]=!0,K&&(_[K]=!0),C.push(i),"("+ae+")"}),Object.keys(_).forEach(function(D){if(!$[D])throw new Error("Invalid format. "+D+" is required in specified format")}),W=W.replace(/@@@/g,function(){return N.shift()});var w=a.match(new RegExp(W,"i"));if(!w)return null;for(var c=J(J({},De),n),d=1;d<w.length;d++){var E=C[d-1],M=E[0],P=E[2],G=P?P(w[d],c):+w[d];if(G==null)return null;f[M]=G}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var O;if(f.timezoneOffset==null){O=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var x=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],d=0,m=x.length;d<m;d++)if($[x[d][0]]&&f[x[d][0]]!==O[x[d][1]]())return null}else if(O=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return O}const $e=(a,o)=>{const n=a.__vccOpts||a;for(const[g,f]of o)n[g]=f;return n},Le={style:{"pointer-events":"none"}},Ze={class:"month_control_panel"},Re={class:"month_control_item"},Je=["onClick"],Ue={class:"month_control_item"},qe={class:"month_control_item"},je=["onClick"],Ge={class:"month_box"},Ke={class:"week_name"},Qe=["onClick","onMouseover"];return $e({__name:"Vue3HotelDatePicker",props:{format:{default:"YYYY-MM-DD",type:String},startOfWeek:{default:"monday",type:String},separator:{default:"-",type:String},selectedDates:{default:!1,type:[Array,Boolean]},startDate:{default:!1,type:[String,Boolean]},endDate:{default:!1,type:[String,Boolean]},minDate:{default:()=>new Date},maxDate:!1,disabledDaysOfWeek:{default:()=>[]},moveBothMonths:{default:!1,type:Boolean},noCheckOutDates:{default:()=>[]},noCheckInDates:{default:()=>[]},noCheckInDaysOfWeek:{default:()=>[]},noCheckOutDaysOfWeek:{default:()=>[]},maxNights:0,minNights:1,singleMonthBreakpoint:{default:!1,type:[Number,Boolean]},selectForward:Boolean,showSingleMonth:Boolean,disabledDates:{default:!1,type:[Array,Boolean]},enableCheckout:Boolean,weekDays:{default:()=>["sun","mon","tue","wed","thu","fri","sat"],type:Array},monthNames:{default:()=>["January","February","March","April","May","June","July","August","September","October","November","December"],type:Array},i18n:{default:()=>({"not selected":"Not selected",night:"Night",nights:"Nights"}),type:Object}},emits:{selected:({start:a,end:o})=>!0},setup(a,{emit:o}){const n=a,g=o,f=r.ref(!0);r.ref(!1);const C=r.ref(!1),N=r.ref(!1),W=r.ref(!1),$=r.ref(!1),_=r.ref(n.maxNights),w=r.ref(n.minNights),c=r.ref(n.startDate??!1),d=r.ref(n.endDate??!1);r.ref(null);const E=r.ref(null),M=r.ref({}),P=r.ref(0);r.ref(null);const G=r.ref(null);C.value=!1,N.value=!1,W.value=!1,$.value=!1;const O=r.ref(n.startDate),x=r.ref(n.endDate),m=r.ref([]),D=r.ref({start:null,end:null}),i=r.ref({months:[],open:!0,submitButton:!1,clearButton:!1,showSingleMonth:n.showSingleMonth});r.computed({error:!1,textContent:"",show:!1});const z=e=>e in n.i18n?n.i18n[e]:"",ae=()=>{let e=[];if(n.startOfWeek==="monday"){for(let t=0;t<7;t++)e.push(n.weekDays[(1+t)%7]);return e}for(let t=0;t<7;t++)e.push(n.weekDays[t]);return e},K=e=>n.monthNames[e],L=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()+1,1))},se=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()-1,1))},y=(e,t=null)=>{let l=t??n.format;return H(e,l)},U=(e,t=null)=>{let l=t??n.format;return be(e,l)},Xe=()=>{w.value=n.minNights>1?n.minNights+1:2,_.value=n.maxNights>0?n.maxNights+1:0,n.startDate&&typeof n.startDate=="string"&&(O.value=U(n.startDate)),n.endDate&&typeof n.endDate=="string"&&(x.value=U(x.value)),n.disabledDates.length>0&&ct(),n.disabledDaysOfWeek.length>0&&dt(),O.value&&x.value?mt(O.value,x.value):we(),G.value&&(f.value||!c.value&&!d.value)&&(i.value.clearButton=!0),P.value=0,E.value=!1},F=(e,t)=>{e=new Date(e);let l={name:K(e.getMonth()),month:e.getMonth(),year:e.getFullYear(),id:e.getFullYear()+e.getMonth(),days:[],nextBtn:!0,prevBtn:!0};e.setHours(0,0,0,0),l.days=et(e),i.value.months.splice(t-1,1,l),xe(),M.value["month"+t]=e},et=e=>{const t=[],l=[];let s;e.setDate(1);let u=e.getDay();const v=e.getMonth();if(u===0&&n.startOfWeek==="monday"&&(u=7),u>0)for(let p=u;p>0;p--){const h=new Date(e.getTime()-864e5*p);s=X(h.getTime()),(n.minDate&&Y(h,n.minDate)<0||n.maxDate&&Y(h,n.maxDate)>0)&&(s=!1),t.push({date:h,type:"lastMonth",day:h.getDate(),time:h.getTime(),tabindex:0,attributes:[],isNoCheckOut:!1,isValid:s,isNoCheckIn:!1,isCurrentMonth:!1})}for(let p=0;p<40;p++){const h=q(e,p);s=X(h.getTime()),(n.minDate&&Y(h,n.minDate)<0||n.maxDate&&Y(h,n.maxDate)>0)&&(s=!1),t.push({date:h,type:h.getMonth()===v?"visibleMonth":"nextMonth",day:h.getDate(),time:h.getTime(),tabindex:0,attributes:[],isCurrentMonth:h.getMonth()===v,isValid:s,isNoCheckIn:!1,isNoCheckOut:!1})}for(let p=0;p<6&&t[p*7].type!=="nextMonth";p++)for(let h=0;h<7;h++){let S=n.startOfWeek==="monday"?h+1:h;S=t[p*7+S],l.push(ke(S))}return l},ke=e=>{const t=y(e.time)===y(new Date),l=y(e.time)===y(n.minDate);let s=!1,u=!1,v=!1,p=!1,h=!1,S=!1;if(e.valid||e.type==="visibleMonth"){const ie=y(e.time,"YYYY-MM-DD");if(n.disabledDates.length>0){const T=Te(e.date);if(T[0]===!1&&(T[0]=Ne(O.value,1)),T[0]&&T[1]&&Y(e.date,T[0])&&B(T[0],T[1])-2>0){const ue=B(T[1],e.date)-1,vt=B(e.date,T[0])-1;(n.selectForward&&ue<w.value||!n.selectForward&&ue<w.value&&vt<w.value)&&(e.isValid=!1),!e.isValid&&n.enableCheckout&&ue===2&&(S=!0)}n.disabledDates.indexOf(ie)>-1?(e.isValid=!1,s=!0,P.value++,E.value=e.date):P.value=0,e.isValid&&E.value&&Y(e.date,E.value)>0&&B(e.date,E.value)===2&&(h=!0)}n.disabledDaysOfWeek.length>0&&n.disabledDaysOfWeek.indexOf(H(e.time,"dddd"))>-1&&(e.isValid=!1,p=!0),n.noCheckInDates.length>0&&n.noCheckInDates.indexOf(ie)>-1&&(u=!0,h=!1),n.noCheckOutDates.length>0&&n.noCheckOutDates.indexOf(ie)>-1&&(v=!0),n.noCheckInDaysOfWeek.length>0&&n.noCheckInDaysOfWeek.indexOf(H(e.time,"dddd"))>-1&&(u=!0,h=!1),n.noCheckOutDaysOfWeek.length>0&&n.noCheckOutDaysOfWeek.indexOf(H(e.time,"dddd"))>-1&&(v=!0)}return e.isToday=t,e.isDisabled=s,e.isCheckOutEnabled=s&&n.enableCheckout&&P.value===1,e.isDayBeforeDisabledDate=S,e.isCheckInOnly=l||h,e.isNoCheckIn=u,e.isNoCheckOut=v,e.isDayOfWeekDisabled=p,e},tt=()=>{for(let e=0;e<i.value.months.length;e++)for(let t=0;t<i.value.months[e].days.length;t++){const l=parseInt(i.value.months[e].days[t].time,10),s=new Date(l);let u;u=X(s.getTime()),(n.minDate&&Y(s,n.minDate)<0||n.maxDate&&Y(s,n.maxDate)>0)&&(u=!1),i.value.months[e].days[t].isValid=u,i.value.months[e].days[t]=ke(i.value.months[e].days[t])}},we=()=>{F(n.minDate,1),F(L(n.minDate),2),j()},nt=(e,t,...l)=>{if(l.length>0&&l[0]!==void 0&&l[0],e.getTime()>t.getTime()){let u=t;t=e,e=u,u=null}let s=!0;if((n.minDate&&Y(e,n.minDate)<0||n.maxDate&&Y(t,n.maxDate)>0)&&(s=!1),!s){we();return}e.setTime(e.getTime()+12*60*60*1e3),t.setTime(t.getTime()+12*60*60*1e3),c.value=e.getTime(),d.value=t.getTime(),Y(e,t)>0&&ee(e,t)===0&&(t=L(e)),ee(e,t)===0&&(t=L(e)),F(e,1),F(t,2),Q(),j(),Ce()},Q=()=>{if(!(!c.value&&!d.value))for(let e=0;e<i.value.months.length;e++)for(let t=0;t<i.value.months[e].days.length;t++){const l=i.value.months[e].days[t],s=parseInt(l.time,10);c.value&&d.value&&d.value>=s&&c.value<=s||c.value&&!d.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isSelected=!0:l.isSelected=!1,c.value&&y(c.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isFirstDaySelected=!0:l.isFirstDaySelected=!1,d.value&&y(d.value,"YYYY-MM-DD")===y(s,"YYYY-MM-DD")?l.isLastDaySelected=!0:l.isLastDaySelected=!1,i.value.months[e].days[t]=Object.assign({},l)}},at=(e,t)=>{if(!e.isValid||!e.isCurrentMonth)return;const l=D.value.start===null,s=parseInt(e.time,10);if(!(D.value.start&&D.value.start.time===e.time)){if(l){if(e.isNoCheckIn)return}else if(c.value&&(c.value>s&&e.isNoCheckIn||D.value.start&&D.value.start.isNoCheckIn&&c.value>s||e.isNoCheckOut&&s>c.value))return;if(l?(D.value.start=e,c.value=s,d.value=!1):c.value&&(D.value.end=e,d.value=s,Ie()),c.value&&d.value&&c.value>d.value){const u=d.value;d.value=c.value,c.value=u}c.value=parseInt(c.value,10),d.value=parseInt(d.value,10),ft(),c.value&&!d.value&&Be(e),xe(),Ce(),c.value&&d.value&&tt(),Q(),d.value&&g("selected",{start:c.value,end:d.value}),D.value.end&&st()}},st=()=>{D.value.start=null,D.value.end=null},X=e=>{if(e=parseInt(e,10),n.minDate&&Y(e,n.minDate)<0||n.maxDate&&Y(e,n.maxDate)>0)return!1;if(c.value&&!d.value){if(_.value>0&&B(e,c.value)>_.value||w.value>0&&B(e,c.value)>1&&B(e,c.value)<w.value||n.selectForward&&e<c.value)return!1;if(n.disabledDates.length>0){const t=Te(new Date(parseInt(c.value,10)));if(t[0]&&Y(e,t[0])<=0||t[1]&&Y(e,t[1])>=0)return!1}if(n.disabledDaysOfWeek.length>0){const t=ht(new Date(parseInt(c.value,10)));if(t[0]&&Y(e,t[0])<=0||t[1]&&Y(e,t[1])>=0)return!1}}return!0},Se=()=>{for(let e=0;e<i.value.months.length;e++)for(let t=0;t<i.value.months[e].days.length;t++)i.value.months[e].days[t].selected=!1,i.value.months[e].days[t].isFirstDaySelected=!1,i.value.months[e].days[t].isLastDaySelected=!1;return!0},Ce=()=>{const e=B(d.value,c.value);(_.value&&e>_.value||w.value&&e<w.value)&&(c.value=!1,d.value=!1,Se())},q=(e,t)=>{const l=new Date(e);return l.setDate(l.getDate()+t),l},Ne=(e,t)=>{const l=new Date(e);return l.setDate(l.getDate()-t),l},B=(e,t)=>Math.abs(Oe(e)-Oe(t))+1,Y=(e,t)=>{const l=parseInt(y(e,"YYYYMMDD"),10)-parseInt(y(t,"YYYYMMDD"),10);return l>0?1:l===0?0:-1},ee=(e,t)=>{const l=parseInt(y(e,"YYYYMM"),10)-parseInt(y(t,"YYYYMM"),10);return l>0?1:l===0?0:-1},Oe=e=>Math.round(lt(e)/864e5),lt=e=>(typeof e=="object"&&e.getTime&&(e=e.getTime()),typeof e=="string"&&!e.match(/\d{13}/)&&(e=U(e).getTime()),e=parseInt(e,10)-new Date().getTimezoneOffset()*60*1e3,e),rt=(e,t)=>{const l=t===1;let s=l?M.value.month2:M.value.month1;return s=L(s),!te()&&!l&&ee(s,M.value.month2)>=0||Z(s)?!1:(n.moveBothMonths&&l&&F(M.value.month2,1),F(s,t+1),Q(),j(),!0)},ot=(e,t)=>{const l=t===1;let s=l?M.value.month2:M.value.month1;return s=se(s),l&&ee(s,M.value.month1)<=0||Z(s)?!1:(n.moveBothMonths&&!l&&F(M.value.month1,2),F(s,t+1),Q(),j(),!0)},le=r.ref([]),te=()=>n.showSingleMonth||it(),it=()=>typeof window>"u"?!1:n.singleMonthBreakpoint?window.innerWidth<n.singleMonthBreakpoint:window.innerWidth<ut(),ut=()=>le.value[0]?2*le.value[0].offsetWidth+50:0,Z=e=>{const t=new Date(e.valueOf());return n.minDate&&new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)<n.minDate||n.maxDate&&new Date(t.getFullYear(),t.getMonth(),1)>n.maxDate},j=()=>{if(te()){Z(se(M.value.month1))?i.value.months[0].prevBtn=!1:i.value.months[0].prevBtn=!0,Z(L(M.value.month1))?i.value.months[0].nextBtn=!1:i.value.months[0].nextBtn=!0;return}const e=parseInt(y(M.value.month1,"YYYYMM"),10),t=parseInt(y(M.value.month2,"YYYYMM"),10),l=Math.abs(e-t);l>1&&l!==89?(i.value.months[0].nextBtn=!0,i.value.months[1].prevBtn=!0):(i.value.months[0].nextBtn=!1,i.value.months[1].prevBtn=!1),Z(se(M.value.month1))?i.value.months[0].prevBtn=!1:i.value.months[0].prevBtn=!0,Z(L(M.value.month2))?i.value.months[1].nextBtn=!1:i.value.months[1].nextBtn=!0},xe=()=>{const e=c.value&&!d.value;for(let t=0;t<i.value.months.length;t++)for(let l=0;l<i.value.months[t].days.length;l++){let s=i.value.months[t].days[l];if(!s.isValid&&s.isTmp&&(s.isTmp=!1,s.isTmpValid?s.isValid=!0:s.isTmpValid=!0),e){if(s.isCurrentMonth&&(s.isValid||s.isDisabled||s.isBeforeDisabledDate)){const u=parseInt(s.time,10);X(u)?(s.isValid=!0,s.isTmp=!0,s.isDisabled=!1):(s.valid||(s.isTmpValid=!1),s.isValid=!1,s.isTmp=!0)}}else(s.checkOutEnabled||s.beforeDisabledDate)&&(s.isValid=!1,s.beforeDisabledDate||(s.isDisabled=!0));i.value.months[t].days.splice(l,1,s)}return!0},Be=(e,t)=>{const l=parseInt(e.time,10);if(e.isValid&&Ve(e)){for(let s=0;s<i.value.months.length;s++)for(let u=0;u<i.value.months[s].days.length;u++){const v=parseInt(i.value.months[s].days[u].time,10);v===l?i.value.months[s].days[u].isHovering=!0:i.value.months[s].days[u].isHovering=!1,c.value&&!d.value&&(c.value<v&&l>=v||c.value>v&&l<=v)?i.value.months[s].days[u].isHovering=!0:i.value.months[s].days[u].isHovering=!1}c.value&&!d.value&&(k.count=B(l,c.value)-1)}},ft=()=>{for(let e=0;e<i.value.months.length;e++)for(let t=0;t<i.value.months[e].days.length;t++)i.value.months[e].days[t].isHovering=!1},ct=()=>{const e=[];for(let t=0;t<n.disabledDates.length;t++)e[t]=be(n.disabledDates[t],"YYYY-MM-DD");e.sort((t,l)=>t-l),m.value=e},Te=e=>{let t=[!1,!1];if(e<m.value[0])n.enableCheckout?t=[!1,q(m.value[0],1)]:t=[!1,m.value[0]];else if(e>m.value[m.value.length-1])t=[m.value[m.value.length-1],!1];else{let l=m.value.length,s=m.value.length;const u=Math.abs(new Date(0,0,0).valueOf());let v=u,p=-u,h=0,S;for(S=0;S<m.value.length;++S)h=e-m.value[S],h<0&&h>p&&(s=S,p=h),h>0&&h<v&&(l=S,v=h);m.value[l]&&(t[0]=m.value[l]),typeof m.value[l]>"u"?t[1]=!1:n.enableCheckout?t[1]=q(m.value[s],1):t[1]=m.value[s]}return t},re=r.ref([]),dt=()=>{const e=[],t=[],l=new Date;for(let s=0;s<7;s++){const u=q(l,s);e[H(u,"d")]=H(u,"dddd")}for(let s=0;s<n.disabledDaysOfWeek.length;s++)t.push(e.indexOf(n.disabledDaysOfWeek[s]));t.sort(),re.value=t},ht=e=>{const t=[!1,!1];for(let l=0;l<7;l++){const s=Ne(e,l);if(re.value.indexOf(parseInt(H(s,"d"),10))>-1){t[0]=s;break}}for(let l=0;l<7;l++){const s=q(e,l);if(re.value.indexOf(parseInt(H(s,"d"),10))>-1){t[1]=s;break}}return t},mt=(e,t)=>{typeof e=="string"&&typeof t=="string"?(e=U(e),t=U(t)):(e=new Date(e.getTime()),t=new Date(t.getTime())),nt(e,t)},k=r.reactive({show:!1,top:0,left:0,width:0,count:0,error:!1}),Ie=()=>k.show=!1,Ve=e=>!(!e.isValid||!e.isCurrentMonth),Dt=(e,t)=>{if(!D.value.start||D.value.start&&D.value.end||!Ve(t))return!1;k.show=!0;const l=He.value.getBoundingClientRect(),s=e.target.getBoundingClientRect();k.top=s.top-l.top-35,k.left=s.left-l.left,k.width=s.width},He=r.ref(null),oe=()=>{i.value.showSingleMonth=te()};return r.watch(()=>i.value.showSingleMonth,()=>{j()}),r.onUnmounted(()=>{window.removeEventListener("resize",()=>oe())}),r.onMounted(()=>{typeof process>"u"?window.addEventListener("resize",()=>oe()):process.client&&(window.addEventListener("resize",()=>oe()),i.value.showSingleMonth=te())}),Xe(),(e,t)=>(r.openBlock(),r.createElementBlock("div",{class:"h-datepicker",ref_key:"parent",ref:He},[r.createElementVNode("div",{class:r.normalizeClass([{"h-datepicker_invisible":!k.show},"h_datepicker_popup"]),style:r.normalizeStyle({top:k.top+"px",left:k.left+"px",width:k.width+"px"})},[r.createElementVNode("div",Le,[r.renderSlot(e.$slots,"popup",{nights:k.count},()=>[r.createTextVNode(r.toDisplayString(k.count?k.count+" "+(k.count>1?z("nights"):z("night")):z("not selected")),1)],!0)])],6),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(i.value.months,(l,s)=>(r.openBlock(),r.createElementBlock("div",{key:l.id,ref_for:!0,ref_key:"monthsDoms",ref:le,class:r.normalizeClass(["h-datepicker_month",{"h-datepicker_hidden":s===1&&i.value.showSingleMonth,"h-datepicker_two_month_display":!i.value.showSingleMonth,"h-datepicker_one_month_display":i.value.showSingleMonth}])},[r.createElementVNode("div",Ze,[r.createElementVNode("div",Re,[r.createElementVNode("div",{onClick:u=>ot(l,s),class:r.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!l.prevBtn}])},[r.renderSlot(e.$slots,"prev",{},()=>[r.createTextVNode(" <<")],!0)],10,Je)]),r.createElementVNode("div",Ue,[r.renderSlot(e.$slots,"month",{month:l},()=>[r.createTextVNode(r.toDisplayString(l.name)+" "+r.toDisplayString(l.year),1)],!0)]),r.createElementVNode("div",qe,[r.createElementVNode("div",{onClick:u=>rt(l,s),class:r.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!l.nextBtn}])},[r.renderSlot(e.$slots,"next",{},()=>[r.createTextVNode(" >>")],!0)],10,je)])]),r.createElementVNode("div",Ge,[(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(ae(),u=>(r.openBlock(),r.createElementBlock("div",Ke,[r.renderSlot(e.$slots,"weekday",{weekday:u},()=>[r.createTextVNode(r.toDisplayString(u),1)],!0)]))),256)),(r.openBlock(!0),r.createElementBlock(r.Fragment,null,r.renderList(l.days,u=>(r.openBlock(),r.createElementBlock("div",{onClick:v=>at(u),onMouseout:t[0]||(t[0]=v=>Ie()),onMouseover:v=>Be(u)||Dt(v,u),class:r.normalizeClass([{h_datepicker_notCurrentMonth:!u.isCurrentMonth,valid:u.isValid,invalid:!u.isValid,tmpinvalid:!u.isTmpValid,tmp:u.isTmpValid,h_datepicker_disabled:u.isDisabled,"checkout-enabled":u.isCheckOutEnabled,"checkout-disabled":!u.isCheckOutEnabled,"before-disabled-date":u.isDayBeforeDisabledDate,"first-day-selected":u.isFirstDaySelected,"last-day-selected":u.isLastDaySelected,selected:u.isSelected,hovering:u.isHovering},"h_datepicker_day"])},[r.renderSlot(e.$slots,"day",{day:u},()=>[r.createTextVNode(r.toDisplayString(u.day),1)],!0)],42,Qe))),256))])],2))),128))],512))}},[["__scopeId","data-v-8e80a1cc"]])});
