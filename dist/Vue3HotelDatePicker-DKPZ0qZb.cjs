"use strict";const l=require("vue");var Fe=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,P="\\d\\d?",E="\\d\\d",ot="\\d{3}",it="\\d{4}",U="[^\\s]+",He=/\[([^]*?)\]/gm;function Ee(a,o){for(var n=[],y=0,f=a.length;y<f;y++)n.push(a[y].substr(0,o));return n}var Ce=function(a){return function(o,n){var y=n[a].map(function(S){return S.toLowerCase()}),f=y.indexOf(o.toLowerCase());return f>-1?f:null}};function Z(a){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];for(var y=0,f=o;y<f.length;y++){var S=f[y];for(var O in S)a[O]=S[O]}return a}var We=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Pe=["January","February","March","April","May","June","July","August","September","October","November","December"],ut=Ee(Pe,3),ft=Ee(We,3),ct={dayNamesShort:ft,dayNames:We,monthNamesShort:ut,monthNames:Pe,amPm:["am","pm"],DoFn:function(a){return a+["th","st","nd","rd"][a%10>3?0:(a-a%10!==10?1:0)*a%10]}},te=Z({},ct),ht=function(a){return te=Z(te,a)},xe=function(a){return a.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},w=function(a,o){for(o===void 0&&(o=2),a=String(a);a.length<o;)a="0"+a;return a},dt={D:function(a){return String(a.getDate())},DD:function(a){return w(a.getDate())},Do:function(a,o){return o.DoFn(a.getDate())},d:function(a){return String(a.getDay())},dd:function(a){return w(a.getDay())},ddd:function(a,o){return o.dayNamesShort[a.getDay()]},dddd:function(a,o){return o.dayNames[a.getDay()]},M:function(a){return String(a.getMonth()+1)},MM:function(a){return w(a.getMonth()+1)},MMM:function(a,o){return o.monthNamesShort[a.getMonth()]},MMMM:function(a,o){return o.monthNames[a.getMonth()]},YY:function(a){return w(String(a.getFullYear()),4).substr(2)},YYYY:function(a){return w(a.getFullYear(),4)},h:function(a){return String(a.getHours()%12||12)},hh:function(a){return w(a.getHours()%12||12)},H:function(a){return String(a.getHours())},HH:function(a){return w(a.getHours())},m:function(a){return String(a.getMinutes())},mm:function(a){return w(a.getMinutes())},s:function(a){return String(a.getSeconds())},ss:function(a){return w(a.getSeconds())},S:function(a){return String(Math.round(a.getMilliseconds()/100))},SS:function(a){return w(Math.round(a.getMilliseconds()/10),2)},SSS:function(a){return w(a.getMilliseconds(),3)},a:function(a,o){return a.getHours()<12?o.amPm[0]:o.amPm[1]},A:function(a,o){return a.getHours()<12?o.amPm[0].toUpperCase():o.amPm[1].toUpperCase()},ZZ:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+w(Math.floor(Math.abs(o)/60)*100+Math.abs(o)%60,4)},Z:function(a){var o=a.getTimezoneOffset();return(o>0?"-":"+")+w(Math.floor(Math.abs(o)/60),2)+":"+w(Math.abs(o)%60,2)}},Ne=function(a){return+a-1},Te=[null,P],Oe=[null,U],Be=["isPm",U,function(a,o){var n=a.toLowerCase();return n===o.amPm[0]?0:n===o.amPm[1]?1:null}],Ie=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(a){var o=(a+"").match(/([+-]|\d\d)/gi);if(o){var n=+o[1]*60+parseInt(o[2],10);return o[0]==="+"?n:-n}return 0}],mt={D:["day",P],DD:["day",E],Do:["day",P+U,function(a){return parseInt(a,10)}],M:["month",P,Ne],MM:["month",E,Ne],YY:["year",E,function(a){var o=new Date,n=+(""+o.getFullYear()).substr(0,2);return+(""+(+a>68?n-1:n)+a)}],h:["hour",P,void 0,"isPm"],hh:["hour",E,void 0,"isPm"],H:["hour",P],HH:["hour",E],m:["minute",P],mm:["minute",E],s:["second",P],ss:["second",E],YYYY:["year",it],S:["millisecond","\\d",function(a){return+a*100}],SS:["millisecond",E,function(a){return+a*10}],SSS:["millisecond",ot],d:Te,dd:Te,ddd:Oe,dddd:Oe,MMM:["month",U,Ce("monthNamesShort")],MMMM:["month",U,Ce("monthNames")],a:Be,A:Be,ZZ:Ie,Z:Ie},fe={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},W=function(a,o,n){if(o===void 0&&(o=fe.default),n===void 0&&(n={}),typeof a=="number"&&(a=new Date(a)),Object.prototype.toString.call(a)!=="[object Date]"||isNaN(a.getTime()))throw new Error("Invalid Date pass to format");o=fe[o]||o;var y=[];o=o.replace(He,function(S,O){return y.push(O),"@@@"});var f=Z(Z({},te),n);return o=o.replace(Fe,function(S){return dt[S](a,f)}),o.replace(/@@@/g,function(){return y.shift()})};function Ve(a,o,n){if(n===void 0&&(n={}),typeof o!="string")throw new Error("Invalid format in fecha parse");if(o=fe[o]||o,a.length>1e3)return null;var y=new Date,f={year:y.getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},S=[],O=[],_=o.replace(He,function(N,x){return O.push(xe(x)),"@@@"}),z={},j={};_=xe(_).replace(Fe,function(N){var x=mt[N],D=x[0],k=x[1],u=x[3];if(z[D])throw new Error("Invalid format. "+D+" specified twice in format");return z[D]=!0,u&&(j[u]=!0),S.push(x),"("+k+")"}),Object.keys(j).forEach(function(N){if(!z[N])throw new Error("Invalid format. "+N+" is required in specified format")}),_=_.replace(/@@@/g,function(){return O.shift()});var A=a.match(new RegExp(_,"i"));if(!A)return null;for(var V=Z(Z({},te),n),v=1;v<A.length;v++){var c=S[v-1],h=c[0],G=c[2],F=G?G(A[v],V):+A[v];if(F==null)return null;f[h]=F}f.isPm===1&&f.hour!=null&&+f.hour!=12?f.hour=+f.hour+12:f.isPm===0&&+f.hour==12&&(f.hour=0);var g;if(f.timezoneOffset==null){g=new Date(f.year,f.month,f.day,f.hour,f.minute,f.second,f.millisecond);for(var B=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],v=0,ne=B.length;v<ne;v++)if(z[B[v][0]]&&f[B[v][0]]!==g[B[v][1]]())return null}else if(g=new Date(Date.UTC(f.year,f.month,f.day,f.hour,f.minute-f.timezoneOffset,f.second,f.millisecond)),f.month>11||f.month<0||f.day>31||f.day<1||f.hour>23||f.hour<0||f.minute>59||f.minute<0||f.second>59||f.second<0)return null;return g}const _e=(a,o)=>{const n=a.__vccOpts||a;for(const[y,f]of o)n[y]=f;return n},vt={class:"month_control_panel"},Dt={class:"month_control_item"},gt=["onClick"],pt={class:"month_control_item"},Mt={class:"month_control_item"},yt=["onClick"],bt={class:"month_box"},kt={class:"week_name"},Yt=["onClick","onMouseover"],wt={__name:"Vue3HotelDatePicker",props:{format:{default:"YYYY-MM-DD",type:String},startOfWeek:{default:"monday",type:String},separator:{default:"-",type:String},selectedDates:{default:!1,type:[Array,Boolean]},startDate:{default:!1,type:[String,Boolean]},endDate:{default:!1,type:[String,Boolean]},minDate:{default:()=>new Date},maxDate:!1,disabledDaysOfWeek:{default:()=>[]},showTopbar:!1,moveBothMonths:!1,ariaDayFormat:"dddd, MMMM DD, YYYY",noCheckOutDates:{default:()=>[]},noCheckInDates:{default:()=>[]},noCheckInDaysOfWeek:{default:()=>[]},noCheckOutDaysOfWeek:{default:()=>[]},maxNights:0,minNights:1,singleMonthBreakpoint:{default:!1,type:[Number,Boolean]},topbarPosition:"top",onOpenDatepicker:Boolean,minNightsMultiple:Boolean,selectForward:Boolean,showSingleMonth:Boolean,disabledDates:{default:!1,type:[Array,Boolean]},daysWithExtraText:{default:()=>[]},enableCheckout:Boolean,getValues:null,extraDayText:null,i18n:{default:()=>({selected:"Your stay:",night:"Night",nights:"Nights",button:"Close",clearButton:"Clear",submitButton:"Submit","checkin-disabled":"Check-in disabled","checkout-disabled":"Check-out disabled","day-names-short":["sun","mon","tue","wed","thu","fri","sat"],"day-names":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],"month-names-short":["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"month-names":["January","February","March","April","May","June","July","August","September","October","November","December"],"error-more":"Date range should not be more than 1 night","error-more-plural":"Date range should not be more than %d nights","error-less":"Date range should not be less than 1 night","error-less-plural":"Date range should not be less than %d nights","not selected":"Not selected","info-more":"Please select a date range of at least 1 night","info-more-plural":"Please select a date range of at least %d nights","info-range":"Please select a date range between %d and %d nights","info-range-equal":"Please select a date range of %d nights","info-default":"Please select a date range","aria-application":"Calendar","aria-selected-checkin":"Selected as check-in date, %s","aria-selected-checkout":"Selected as check-out date, %s","aria-selected":"Selected, %s","aria-disabled":"Not available, %s","aria-choose-checkin":"Choose %s as your check-in date","aria-choose-checkout":"Choose %s as your check-out date","aria-prev-month":"Move backward to switch to the previous month","aria-next-month":"Move forward to switch to the next month","aria-close-button":"Close the datepicker","aria-clear-button":"Clear the selected dates","aria-submit-button":"Submit the form"})}},emits:{select:({start:a,end:o})=>!0},setup(a,{emit:o}){const n=a,y=e=>{G.value=e},f=()=>{ht({dayNamesShort:n.i18n["day-names-short"],dayNames:n.i18n["day-names"],monthNamesShort:n.i18n["month-names-short"],monthNames:n.i18n["month-names"]})},S=o,O=l.ref(!0);l.ref(!1);const _=l.ref(!1),z=l.ref(!1),j=l.ref(!1),A=l.ref(!1),V=l.ref(n.maxNights),v=l.ref(n.minNights),c=l.ref(n.startDate??!1),h=l.ref(n.endDate??!1),G=l.ref(null),F=l.ref(null);l.ref([]);const g=l.ref({}),B=l.ref(0);l.ref(null);const ne=l.ref(null);l.ref(n.onOpenDatepicker??n.onOpenDatepicker),_.value=!1,z.value=!1,j.value=!1,A.value=!1;const N=l.ref(n.startDate),x=l.ref(n.endDate),D=l.ref([]),k=l.ref({start:null,end:null}),u=l.ref({months:[],open:!0,submitButton:!1,clearButton:!1,showSingleMonth:n.showSingleMonth}),ae=l.computed({error:!1,textContent:"",show:!1}),ze=()=>{let e=[];if(n.startOfWeek==="monday"){for(let t=0;t<7;t++)e.push(oe("day-names-short")[(1+t)%7]);return e}for(let t=0;t<7;t++)e.push(oe("day-names-short")[t]);return e},Ae=e=>oe("month-names")[e],$=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()+1,1))},se=e=>{const t=new Date(e.valueOf());return new Date(t.setMonth(t.getMonth()-1,1))},m=(e,t=null)=>{let r=t??n.format;return f(),W(e,r)},R=(e,t=null)=>{let r=t??n.format;return f(),Ve(e,r)},$e=()=>{v.value=n.minNights>1?n.minNights+1:2,V.value=n.maxNights>0?n.maxNights+1:0,n.startDate&&typeof n.startDate=="string"&&(N.value=R(n.startDate)),n.endDate&&typeof n.endDate=="string"&&(x.value=R(x.value)),n.disabledDates.length>0&&et(),n.disabledDaysOfWeek.length>0&&tt(),N.value&&x.value?st(N.value,x.value):he(),ne.value&&(O.value||!c.value&&!h.value)&&(u.value.clearButton=!0),B.value=0,F.value=!1},H=(e,t)=>{e=new Date(e);let r={name:Ae(e.getMonth()),month:e.getMonth(),year:e.getFullYear(),id:e.getFullYear()+e.getMonth(),days:[],nextBtn:!0,prevBtn:!0};e.setHours(0,0,0,0),r.days=Le(e),u.value.months.splice(t-1,1,r),pe(),g.value["month"+t]=e},Le=e=>{const t=[],r=[];let s;e.setDate(1);let i=e.getDay();const p=e.getMonth();if(i===0&&n.startOfWeek==="monday"&&(i=7),i>0)for(let M=i;M>0;M--){const d=new Date(e.getTime()-864e5*M);s=Q(d.getTime()),(n.minDate&&b(d,n.minDate)<0||n.maxDate&&b(d,n.maxDate)>0)&&(s=!1),t.push({date:d,type:"lastMonth",day:d.getDate(),time:d.getTime(),tabindex:0,attributes:[],isNoCheckOut:!1,isValid:s,isNoCheckIn:!1,isCurrentMonth:!1})}for(let M=0;M<40;M++){const d=J(e,M);s=Q(d.getTime()),(n.minDate&&b(d,n.minDate)<0||n.maxDate&&b(d,n.maxDate)>0)&&(s=!1),t.push({date:d,type:d.getMonth()===p?"visibleMonth":"nextMonth",day:d.getDate(),time:d.getTime(),tabindex:0,attributes:[],isCurrentMonth:d.getMonth()===p,isValid:s,isNoCheckIn:!1,isNoCheckOut:!1})}for(let M=0;M<6&&t[M*7].type!=="nextMonth";M++)for(let d=0;d<7;d++){let Y=n.startOfWeek==="monday"?d+1:d;Y=t[M*7+Y],r.push(ce(Y))}return r},ce=e=>{const t=m(e.time)===m(new Date),r=m(e.time)===m(n.minDate),s=n.daysWithExtraText.indexOf(m(e.time))>-1;let i=!1,p=!1,M=!1,d=!1,Y=!1,Se=!1;if(e.valid||e.type==="visibleMonth"){const ie=m(e.time,"YYYY-MM-DD");if(n.disabledDates.length>0){const I=ye(e.date);if(I[0]===!1&&(I[0]=De(N.value,1)),I[0]&&I[1]&&b(e.date,I[0])&&T(I[0],I[1])-2>0){const ue=T(I[1],e.date)-1,lt=T(e.date,I[0])-1;(n.selectForward&&ue<v.value||!n.selectForward&&ue<v.value&&lt<v.value)&&(e.isValid=!1),!e.isValid&&n.enableCheckout&&ue===2&&(Se=!0)}n.disabledDates.indexOf(ie)>-1?(e.isValid=!1,i=!0,B.value++,F.value=e.date):B.value=0,e.isValid&&F.value&&b(e.date,F.value)>0&&T(e.date,F.value)===2&&(Y=!0)}n.disabledDaysOfWeek.length>0&&n.disabledDaysOfWeek.indexOf(W(e.time,"dddd"))>-1&&(e.isValid=!1,d=!0),n.noCheckInDates.length>0&&n.noCheckInDates.indexOf(ie)>-1&&(p=!0,Y=!1),n.noCheckOutDates.length>0&&n.noCheckOutDates.indexOf(ie)>-1&&(M=!0),n.noCheckInDaysOfWeek.length>0&&n.noCheckInDaysOfWeek.indexOf(W(e.time,"dddd"))>-1&&(p=!0,Y=!1),n.noCheckOutDaysOfWeek.length>0&&n.noCheckOutDaysOfWeek.indexOf(W(e.time,"dddd"))>-1&&(M=!0)}return e.isToday=t,e.isDisabled=i,e.isCheckOutEnabled=i&&n.enableCheckout&&B.value===1,e.isDayBeforeDisabledDate=Se,e.isCheckInOnly=r||Y,e.isNoCheckIn=p,e.isNoCheckOut=M,e.isDayOfWeekDisabled=d,e.isDayWithExtraText=s,e},Ze=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=parseInt(u.value.months[e].days[t].time,10),s=new Date(r);let i;i=Q(s.getTime()),(n.minDate&&b(s,n.minDate)<0||n.maxDate&&b(s,n.maxDate)>0)&&(i=!1),u.value.months[e].days[t].isValid=i,u.value.months[e].days[t]=ce(u.value.months[e].days[t])}},he=()=>{H(n.minDate,1),H($(n.minDate),2),q()},Re=(e,t,...r)=>{if(r.length>0&&r[0]!==void 0&&r[0],e.getTime()>t.getTime()){let i=t;t=e,e=i,i=null}let s=!0;if((n.minDate&&b(e,n.minDate)<0||n.maxDate&&b(t,n.maxDate)>0)&&(s=!1),!s){he();return}e.setTime(e.getTime()+12*60*60*1e3),t.setTime(t.getTime()+12*60*60*1e3),c.value=e.getTime(),h.value=t.getTime(),b(e,t)>0&&X(e,t)===0&&(t=$(e)),X(e,t)===0&&(t=$(e)),H(e,1),H(t,2),K(),q(),ve(),de()},K=()=>{if(!(!c.value&&!h.value))for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++){const r=u.value.months[e].days[t],s=parseInt(r.time,10);c.value&&h.value&&h.value>=s&&c.value<=s||c.value&&!h.value&&m(c.value,"YYYY-MM-DD")===m(s,"YYYY-MM-DD")?r.isSelected=!0:r.isSelected=!1,c.value&&m(c.value,"YYYY-MM-DD")===m(s,"YYYY-MM-DD")?r.isFirstDaySelected=!0:r.isFirstDaySelected=!1,h.value&&m(h.value,"YYYY-MM-DD")===m(s,"YYYY-MM-DD")?r.isLastDaySelected=!0:r.isLastDaySelected=!1,u.value.months[e].days[t]=Object.assign({},r)}},de=()=>{if(!n.showTopbar){if(c.value&&h.value){const e=m(new Date(c.value))+n.separator+m(new Date(h.value));y(e,m(new Date(c.value)),m(new Date(h.value))),z.value=!0}return}},Je=(e,t)=>{if(!e.isValid||!e.isCurrentMonth)return;const r=k.value.start===null,s=parseInt(e.time,10);if(!(k.value.start&&k.value.start.time===e.time)){if(r){if(e.isNoCheckIn)return}else if(c.value&&(c.value>s&&e.isNoCheckIn||k.value.start&&k.value.start.isNoCheckIn&&c.value>s||e.isNoCheckOut&&s>c.value))return;if(r?(k.value.start=e,c.value=s,h.value=!1):c.value&&(k.value.end=e,h.value=s,be()),c.value&&h.value&&c.value>h.value){const i=h.value;h.value=c.value,c.value=i}c.value=parseInt(c.value,10),h.value=parseInt(h.value,10),Xe(),c.value&&!h.value&&Me(e),pe(),ve(),de(),c.value&&h.value&&Ze(),K(),h.value&&S("select",{start:c.value,end:h.value}),k.value.end&&qe()}},qe=()=>{k.value.start=null,k.value.end=null},Q=e=>{if(e=parseInt(e,10),n.minDate&&b(e,n.minDate)<0||n.maxDate&&b(e,n.maxDate)>0)return!1;if(c.value&&!h.value){if(V.value>0&&T(e,c.value)>V.value||v.value>0&&T(e,c.value)>1&&T(e,c.value)<v.value||n.minNightsMultiple&&(T(e,c.value)-1)%7!==0||n.selectForward&&e<c.value)return!1;if(n.disabledDates.length>0){const t=ye(new Date(parseInt(c.value,10)));if(t[0]&&b(e,t[0])<=0||t[1]&&b(e,t[1])>=0)return!1}if(n.disabledDaysOfWeek.length>0){const t=nt(new Date(parseInt(c.value,10)));if(t[0]&&b(e,t[0])<=0||t[1]&&b(e,t[1])>=0)return!1}}return!0},me=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].selected=!1,u.value.months[e].days[t].isFirstDaySelected=!1,u.value.months[e].days[t].isLastDaySelected=!1;return!0},ve=()=>{const e=T(h.value,c.value);if(V.value&&e>V.value){if(c.value=!1,h.value=!1,me(),n.showTopbar){const t=V.value-1;ae.value.error=t}}else if(v.value&&e<v.value){if(c.value=!1,h.value=!1,me(),n.showTopbar){const t=v.value-1;topBarErrorText(bar,"error-less",t)}}else c.value||h.value,n.showTopbar&&(ae.value.error="")},J=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()+t),r},De=(e,t)=>{const r=new Date(e);return r.setDate(r.getDate()-t),r},T=(e,t)=>Math.abs(ge(e)-ge(t))+1,b=(e,t)=>{const r=parseInt(m(e,"YYYYMMDD"),10)-parseInt(m(t,"YYYYMMDD"),10);return r>0?1:r===0?0:-1},X=(e,t)=>{const r=parseInt(m(e,"YYYYMM"),10)-parseInt(m(t,"YYYYMM"),10);return r>0?1:r===0?0:-1},ge=e=>Math.round(Ue(e)/864e5),Ue=e=>(typeof e=="object"&&e.getTime&&(e=e.getTime()),typeof e=="string"&&!e.match(/\d{13}/)&&(e=R(e).getTime()),e=parseInt(e,10)-new Date().getTimezoneOffset()*60*1e3,e),je=(e,t)=>{const r=t===1;let s=r?g.value.month2:g.value.month1;return s=$(s),!ee()&&!r&&X(s,g.value.month2)>=0||L(s)?!1:(n.moveBothMonths&&r&&H(g.value.month2,1),H(s,t+1),K(),q(),!0)},Ge=(e,t)=>{const r=t===1;let s=r?g.value.month2:g.value.month1;return s=se(s),r&&X(s,g.value.month1)<=0||L(s)?!1:(n.moveBothMonths&&!r&&H(g.value.month1,2),H(s,t+1),K(),q(),!0)},re=l.ref([]),ee=()=>n.showSingleMonth||Ke(),Ke=()=>n.singleMonthBreakpoint?window.innerWidth<n.singleMonthBreakpoint:window.innerWidth<Qe(),Qe=()=>re.value[0]?2*re.value[0].offsetWidth+50:0,L=e=>{const t=new Date(e.valueOf());return n.minDate&&new Date(t.getFullYear(),t.getMonth()+1,0,23,59,59)<n.minDate||n.maxDate&&new Date(t.getFullYear(),t.getMonth(),1)>n.maxDate},q=()=>{if(ee()){L(se(g.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,L($(g.value.month1))?u.value.months[0].nextBtn=!1:u.value.months[0].nextBtn=!0;return}const e=parseInt(m(g.value.month1,"YYYYMM"),10),t=parseInt(m(g.value.month2,"YYYYMM"),10),r=Math.abs(e-t);r>1&&r!==89?(u.value.months[0].nextBtn=!0,u.value.months[1].prevBtn=!0):(u.value.months[0].nextBtn=!1,u.value.months[1].prevBtn=!1),L(se(g.value.month1))?u.value.months[0].prevBtn=!1:u.value.months[0].prevBtn=!0,L($(g.value.month2))?u.value.months[1].nextBtn=!1:u.value.months[1].nextBtn=!0},pe=()=>{const e=c.value&&!h.value;for(let t=0;t<u.value.months.length;t++)for(let r=0;r<u.value.months[t].days.length;r++){let s=u.value.months[t].days[r];if(!s.isValid&&s.isTmp&&(s.isTmp=!1,s.isTmpValid?s.isValid=!0:s.isTmpValid=!0),e){if(s.isCurrentMonth&&(s.isValid||s.isDisabled||s.isBeforeDisabledDate)){const i=parseInt(s.time,10);Q(i)?(s.isValid=!0,s.isTmp=!0,s.isDisabled=!1):(s.valid||(s.isTmpValid=!1),s.isValid=!1,s.isTmp=!0)}}else(s.checkOutEnabled||s.beforeDisabledDate)&&(s.isValid=!1,s.beforeDisabledDate||(s.isDisabled=!0));u.value.months[t].days.splice(r,1,s)}return!0},Me=(e,t)=>{const r=parseInt(e.time,10);if(e.isValid&&ke(e)){for(let s=0;s<u.value.months.length;s++)for(let i=0;i<u.value.months[s].days.length;i++){const p=parseInt(u.value.months[s].days[i].time,10);p===r?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1,c.value&&!h.value&&(c.value<p&&r>=p||c.value>p&&r<=p)?u.value.months[s].days[i].isHovering=!0:u.value.months[s].days[i].isHovering=!1}c.value&&!h.value&&(C.count=T(r,c.value)-1)}},Xe=()=>{for(let e=0;e<u.value.months.length;e++)for(let t=0;t<u.value.months[e].days.length;t++)u.value.months[e].days[t].isHovering=!1},et=()=>{const e=[];f();for(let t=0;t<n.disabledDates.length;t++)e[t]=Ve(n.disabledDates[t],"YYYY-MM-DD");e.sort((t,r)=>t-r),D.value=e},ye=e=>{let t=[!1,!1];if(e<D.value[0])n.enableCheckout?t=[!1,J(D.value[0],1)]:t=[!1,D.value[0]];else if(e>D.value[D.value.length-1])t=[D.value[D.value.length-1],!1];else{let r=D.value.length,s=D.value.length;const i=Math.abs(new Date(0,0,0).valueOf());let p=i,M=-i,d=0,Y;for(Y=0;Y<D.value.length;++Y)d=e-D.value[Y],d<0&&d>M&&(s=Y,M=d),d>0&&d<p&&(r=Y,p=d);D.value[r]&&(t[0]=D.value[r]),typeof D.value[r]>"u"?t[1]=!1:n.enableCheckout?t[1]=J(D.value[s],1):t[1]=D.value[s]}return t},le=l.ref([]),tt=()=>{const e=[],t=[],r=new Date;for(let s=0;s<7;s++){const i=J(r,s);e[W(i,"d")]=W(i,"dddd")}for(let s=0;s<n.disabledDaysOfWeek.length;s++)t.push(e.indexOf(n.disabledDaysOfWeek[s]));t.sort(),le.value=t},nt=e=>{const t=[!1,!1];for(let r=0;r<7;r++){const s=De(e,r);if(le.value.indexOf(parseInt(W(s,"d"),10))>-1){t[0]=s;break}}for(let r=0;r<7;r++){const s=J(e,r);if(le.value.indexOf(parseInt(W(s,"d"),10))>-1){t[1]=s;break}}return t},oe=e=>e in n.i18n?n.i18n[e]:"",at=(e,t)=>t?e+"s"in n.i18n?t+" "+n.i18n[e+"s"]:"":n.i18n["not selected"],st=(e,t)=>{typeof e=="string"&&typeof t=="string"?(e=R(e),t=R(t)):(e=new Date(e.getTime()),t=new Date(t.getTime())),Re(e,t)},C=l.reactive({show:!1,top:0,left:0,width:0,count:0,error:!1}),be=()=>C.show=!1,ke=e=>!(!e.isValid||!e.isCurrentMonth),rt=(e,t)=>{if(!k.value.start||k.value.start&&k.value.end||!ke(t))return!1;C.show=!0;const r=Ye.value.getBoundingClientRect(),s=e.target.getBoundingClientRect();C.top=s.top-r.top-35,C.left=s.left-r.left,C.width=s.width},Ye=l.ref(null),we=()=>{u.value.showSingleMonth=ee()};return l.watch(()=>u.value.showSingleMonth,()=>{q()}),l.onUnmounted(()=>{window.removeEventListener("resize",()=>we())}),l.onMounted(()=>{u.value.showSingleMonth=ee(),window.addEventListener("resize",()=>we()),$e()}),(e,t)=>(l.openBlock(),l.createElementBlock("div",{class:"h-datepicker",ref_key:"parent",ref:Ye},[l.createElementVNode("div",{class:l.normalizeClass([{"h-datepicker_invisible":!C.show},"h-datepicker_popup"]),style:l.normalizeStyle({top:C.top+"px",left:C.left+"px",width:C.width+"px"})},[l.renderSlot(e.$slots,"popup",{nights:C.count},()=>[l.createTextVNode(l.toDisplayString(at("night",C.count)),1)],!0)],6),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(u.value.months,(r,s)=>(l.openBlock(),l.createElementBlock("div",{key:r.id,ref_for:!0,ref_key:"monthsDoms",ref:re,class:l.normalizeClass(["h-datepicker_month",{"h-datepicker_hidden":s===1&&u.value.showSingleMonth,"h-datepicker_two_month_display":!u.value.showSingleMonth,"h-datepicker_one_month_display":u.value.showSingleMonth}])},[l.createElementVNode("div",vt,[l.createElementVNode("div",Dt,[l.createElementVNode("div",{onClick:i=>Ge(r,s),class:l.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!r.prevBtn}])},[l.renderSlot(e.$slots,"prev",{},()=>[l.createTextVNode(" <<")],!0)],10,gt)]),l.createElementVNode("div",pt,[l.renderSlot(e.$slots,"month",{month:r},()=>[l.createTextVNode(l.toDisplayString(r.name)+" "+l.toDisplayString(r.year),1)],!0)]),l.createElementVNode("div",Mt,[l.createElementVNode("div",{onClick:i=>je(r,s),class:l.normalizeClass(["month_control_btn",{"h-datepicker_invisible":!r.nextBtn}])},[l.renderSlot(e.$slots,"next",{},()=>[l.createTextVNode(" >>")],!0)],10,yt)])]),l.createElementVNode("div",bt,[(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(ze(),i=>(l.openBlock(),l.createElementBlock("div",kt,[l.renderSlot(e.$slots,"weekday",{weekday:i},()=>[l.createTextVNode(l.toDisplayString(i),1)],!0)]))),256)),(l.openBlock(!0),l.createElementBlock(l.Fragment,null,l.renderList(r.days,i=>(l.openBlock(),l.createElementBlock("div",{onClick:p=>Je(i),onMouseout:t[0]||(t[0]=p=>be()),onMouseover:p=>Me(i)||rt(p,i),class:l.normalizeClass([{h_datepicker_notCurrentMonth:!i.isCurrentMonth,valid:i.isValid,invalid:!i.isValid,tmpinvalid:!i.isTmpValid,tmp:i.isTmpValid,h_datepicker_disabled:i.isDisabled,"checkout-enabled":i.isCheckOutEnabled,"checkout-disabled":!i.isCheckOutEnabled,"before-disabled-date":i.isDayBeforeDisabledDate,"first-day-selected":i.isFirstDaySelected,"last-day-selected":i.isLastDaySelected,selected:i.isSelected,hovering:i.isHovering},"day"])},[l.renderSlot(e.$slots,"day",{day:i},()=>[l.createTextVNode(l.toDisplayString(i.day),1)],!0)],42,Yt))),256))])],2))),128))],512))}},St=_e(wt,[["__scopeId","data-v-9257c193"]]);exports.Vue3HotelDatePicker=St;exports._export_sfc=_e;
